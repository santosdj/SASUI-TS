(this["webpackJsonpsasui-ts"]=this["webpackJsonpsasui-ts"]||[]).push([[0],{459:function(e,t,n){"use strict";n.r(t);var i=n(546),r=n(0),a=n.n(r),o=n(75),s=n.n(o),c=n(296),l=n(545),d=n(582),u=n(49),p=n(34),b=n(9),m=n(15),j=n(3),f=n(120),h=n.n(f),_=n(275),x=n.n(_),v=n(274),O=n.n(v),y=n(217),g=n.n(y),w=n(271),S=n.n(w),k=n(273),C=n.n(k),q=n(218),I=n.n(q),P=n(272),N=n.n(P),E=n(565),A=n(566),T=n(567),W=n(558),D=n(568),R=n(105),U=n(297),F=n(69),M=n(222),B=n(569),L=n(196),z=n(48),V=n(543),G=n(564),X=n(557),H=n(106),J=n(5),K=n(8),Z=n(4),Q=n.n(Z),$=n(17),Y=n(547),ee={auth:{clientId:"7c39cfaf-fce7-4dae-98f7-9a347b6f8293",redirectUri:"https://sasdev.maktubservicos.com.br/signin",authority:"https://".concat("login.microsoftonline.com","/").concat("40a64d0b-f2f9-4a34-b1b3-0992ac0e5e4e"),knownAuthorities:["login.microsoftonline.com"],postLogoutRedirectUri:"/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1}},te={scopes:["user.read"]},ne=n(460);function ie(e){return ne.Client.init({authProvider:function(t){t(null,e)}})}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object($.a)(Q.a.mark((function e(t){var n,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ie(t),e.next=3,n.api("/me").select("displayName,mail,userPrincipalName,photo").get();case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return se.apply(this,arguments)}function se(){return(se=Object($.a)(Q.a.mark((function e(t,n){var i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="https://graph.microsoft.com/v1.0/".concat(t,"/photo/$value"),e.abrupt("return",fetch(i,{method:"GET",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=n(1),le=Object(r.createContext)({}),de=new Y.a(ee);function ue(e){var t=e.children,n=Object(r.useState)(),i=Object(b.a)(n,2),a=i[0],o=i[1],s=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("Get access tokens"),!((n=de.getAllAccounts()).length<=0)){e.next=5;break}throw new Error("Login required");case 5:return e.next=7,de.acquireTokenSilent({scopes:t,account:n[0]});case 7:return i=e.sent,e.abrupt("return",i.accessToken);case 11:if(e.prev=11,e.t0=e.catch(0),!e.t0){e.next=18;break}return e.next=16,de.acquireTokenPopup({scopes:t});case 16:return r=e.sent,e.abrupt("return",r.accessToken);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();function c(e){return l.apply(this,arguments)}function l(){return(l=Object($.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe("me",t).then((function(e){if(e.ok)return e.blob()})).then((function(e){if(e)return URL.createObjectURL(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=Object(r.useCallback)(Object($.a)(Q.a.mark((function e(){var t,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Pegando o access token..."),e.next=4,s(te.scopes);case 4:if(t=e.sent,console.log("Pegou o access token..."),!t){e.next=22;break}return e.next=9,re(t);case 9:return n=e.sent,console.log(n),localStorage.setItem("@AzureAd:accessToken",t),console.log("Setting account..."),e.t0=o,e.t1=n.displayName,e.t2=n.mail||n.userPrincipalName,e.next=18,c(t);case 18:e.t3=e.sent,e.t4={displayName:e.t1,email:e.t2,avatar:e.t3},e.t5={isAuthenticated:!0,user:e.t4,error:null},(0,e.t0)(e.t5);case 22:e.next=27;break;case 24:e.prev=24,e.t6=e.catch(0),o({isAuthenticated:!1,user:{displayName:"",email:"",avatar:""},error:e.t6});case 27:case"end":return e.stop()}}),e,null,[[0,24]])}))),[]);function u(){return(u=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(ee.auth.redirectUri),e.next=4,de.loginPopup({scopes:te.scopes,prompt:"select_account"});case 4:return console.log("Ap\xf3s o popup"),e.next=7,d();case 7:console.log("peguei o perfil...retornando..."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),o({isAuthenticated:!1,user:{displayName:"",email:"",avatar:""},error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=de.getAllAccounts();console.log("No use effect do context"),e&&e.length>0&&(d(),console.log("Pegou o user profile no useEffect"))}),[d]),Object(ce.jsx)(le.Provider,{value:{signInWithAD:function(){return u.apply(this,arguments)},signOut:function(){localStorage.removeItem("@AzureAd:accessToken"),de.logout()},accountInfo:a},children:t})}function pe(){var e=Object(r.useContext)(le);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var be=n(216),me=n.n(be),je=n(267),fe=n.n(je),he=n(562),_e=n(555),xe=n(299),ve=n(539),Oe=n(548),ye=Object(Oe.a)((function(){return{root:{width:"100%",maxWidth:360},nested:{paddingLeft:16}}}));function ge(){var e=ye();return Object(ce.jsxs)(he.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:e.root,children:[Object(ce.jsxs)(_e.a,{button:!0,component:u.b,to:"/",children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(fe.a,{})}),Object(ce.jsx)(ve.a,{primary:"Home"})]},"Home"),Object(ce.jsxs)(_e.a,{button:!0,component:u.b,to:"/sap/request",children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(me.a,{color:"primary"})}),Object(ce.jsx)(ve.a,{primary:"SAP"})]},"Nova"),Object(ce.jsxs)(_e.a,{button:!0,component:u.b,to:"/as400/request",children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(me.a,{color:"primary"})}),Object(ce.jsx)(ve.a,{primary:"AS400"})]},"Nova 2")]})}var we=n(143),Se=n.n(we),ke=n(268),Ce=n.n(ke),qe=n(178),Ie=n.n(qe),Pe=n(179),Ne=n.n(Pe),Ee=n(180),Ae=n.n(Ee),Te=n(563),We=n.p+"static/media/sap2.bc41474a.svg",De=Object(Oe.a)((function(){return{root:{width:"100%",maxWidth:360},nested:{paddingLeft:16}}}));function Re(){var e=De(),t=a.a.useState(!0),n=Object(b.a)(t,2),i=n[0],r=n[1];return Object(ce.jsxs)(he.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:e.root,children:[Object(ce.jsxs)(_e.a,{component:u.b,to:"/requests/ordered/ci",children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(Ce.a,{})}),Object(ce.jsx)(ve.a,{primary:"Controles Internos"})]}),Object(ce.jsxs)(_e.a,{button:!0,onClick:function(){r(!i)},children:[Object(ce.jsx)(xe.a,{color:"primary",children:Object(ce.jsx)("span",{children:Object(ce.jsx)("img",{src:We,alt:"Menu SAP"})})}),Object(ce.jsx)(ve.a,{primary:""}),i?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(Ne.a,{})]}),Object(ce.jsx)(Te.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(ce.jsxs)(he.a,{component:"div",disablePadding:!0,children:[Object(ce.jsxs)(_e.a,{button:!0,className:e.nested,children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(Ae.a,{})}),Object(ce.jsx)(ve.a,{primary:"Em an\xe1lise"})]}),Object(ce.jsxs)(_e.a,{button:!0,className:e.nested,children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(Se.a,{})}),Object(ce.jsx)(ve.a,{primary:"Em Execu\xe7\xe3o"})]}),Object(ce.jsxs)(_e.a,{button:!0,className:e.nested,children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(Se.a,{})}),Object(ce.jsx)(ve.a,{primary:"Todas"})]})]})})]})}var Ue=n(269),Fe=n.n(Ue),Me=Object(Oe.a)((function(){return{root:{width:"100%",maxWidth:360},nested:{paddingLeft:16}}}));function Be(){var e=Me(),t=a.a.useState(!0),n=Object(b.a)(t,2),i=n[0],r=n[1];return Object(ce.jsxs)(he.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:e.root,children:[Object(ce.jsxs)(_e.a,{button:!0,onClick:function(){r(!i)},children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(Fe.a,{})}),Object(ce.jsx)(ve.a,{primary:"Solicita\xe7\xf5es"}),i?Object(ce.jsx)(Ie.a,{}):Object(ce.jsx)(Ne.a,{})]}),Object(ce.jsx)(Te.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(ce.jsxs)(he.a,{component:"div",disablePadding:!0,children:[Object(ce.jsxs)(_e.a,{button:!0,className:e.nested,component:u.b,to:"/requests/ordered/number",children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(Ae.a,{})}),Object(ce.jsx)(ve.a,{primary:"N\xfamero"})]}),Object(ce.jsxs)(_e.a,{button:!0,className:e.nested,component:u.b,to:"/requests/ordered/status",children:[Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(Se.a,{})}),Object(ce.jsx)(ve.a,{primary:"Status"})]})]})})]})}var Le=n(61),ze=n(31),Ve=n(540);function Ge(){var e=230,t=Object(Oe.a)((function(t){var n;return Object(Ve.a)({root:{display:"flex"},title:(n={display:"none"},Object(j.a)(n,t.breakpoints.up("sm"),{display:"block"}),Object(j.a)(n,"paddingRight","20px"),n),appBar:{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{marginLeft:e,width:"calc(100% - ".concat(e,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:e,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:e,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerClose:Object(j.a)({transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:t.spacing(7)+1},t.breakpoints.up("sm"),{width:t.spacing(9)+1}),toolbar:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar),content:{flexGrow:1,padding:t.spacing(.3)},search:Object(j.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(Le.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(Le.a)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(3),width:"auto"}),searchIcon:{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(j.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"}),cardSection:{minHeight:140,width:"100%"},cardContent:{display:"flex",alignItems:"center"},cardAvatar:{display:"block",width:100,height:100,margin:20},sectionDesktop:Object(j.a)({display:"none"},t.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(j.a)({display:"flex"},t.breakpoints.up("md"),{display:"none"}),grow:{flexGrow:1}})})),n={accountmenu:{desktopid:"account-menu",mobileid:"account-menu-mobile",profiletext:"Perfil",accounttext:"Conta",avatar:"https://material-ui.com/static/images/avatar/1.jpg",avataralt:"Fake user"},message:{count:4,text:"show ".concat(2," new mails"),menutext:"Mensagens"},notification:{count:6,text:"show ".concat(4," new alerts"),menutext:"Notifica\xe7\xf5es"},search:{placeholder:"Pesquisar..."}},i=Object(ze.a)();return{config:n,classes:t(),drawerWidth:e,theme:i}}var Xe=230,He=function(e){return{width:Xe,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},Je=function(e){return Object(j.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(9)," + 1px)")})},Ke=Object(J.a)(X.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(m.a)(Object(m.a)({width:Xe,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(m.a)(Object(m.a)({},He(t)),{},{"& .MuiDrawer-paper":He(t)})),!n&&Object(m.a)(Object(m.a)({},Je(t)),{},{"& .MuiDrawer-paper":Je(t)}))})),Ze=Object(J.a)(G.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(m.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:Xe,width:"calc(100% - ".concat(Xe,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})}));function Qe(){var e=pe(),t=e.accountInfo,n=e.signOut,i=a.a.useState(!1),r=Object(b.a)(i,2),o=r[0],s=r[1],c=Ge(),l=c.config,d=c.classes,u=c.theme,p=a.a.useState(null),m=Object(b.a)(p,2),f=m[0],_=m[1],v=a.a.useState(null),y=Object(b.a)(v,2),w=y[0],k=y[1],q=Boolean(f),P=Boolean(w),G=function(e){_(e.currentTarget)},X=function(){k(null)},J=function(){_(null),X()},Z=Object(ce.jsxs)(E.a,{className:d.cardSection,children:[Object(ce.jsx)(A.a,{children:Object(ce.jsxs)(T.a,{children:[Object(ce.jsx)(W.a,{alt:null===t||void 0===t?void 0:t.user.displayName,src:null===t||void 0===t?void 0:t.user.avatar,className:d.cardAvatar}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{children:null===t||void 0===t?void 0:t.user.displayName}),Object(ce.jsx)("div",{children:null===t||void 0===t?void 0:t.user.email})]})]})}),Object(ce.jsxs)(D.a,{children:[Object(ce.jsx)(R.a,{size:"small",color:"primary",onClick:n,children:"Sign Out"}),Object(ce.jsx)(R.a,{size:"small",color:"primary",onClick:J,children:"Fechar"})]})]}),Q=Object(ce.jsx)(U.a,{anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"right"},id:l.accountmenu.desktopid,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:q,onClose:J,children:Z}),$=Object(ce.jsxs)(U.a,{anchorEl:w,anchorOrigin:{vertical:"top",horizontal:"right"},id:l.accountmenu.mobileid,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:P,onClose:X,children:[Object(ce.jsxs)(F.a,{children:[Object(ce.jsx)(H.a,{"aria-label":l.message.text,color:"inherit",size:"large",children:Object(ce.jsx)(M.a,{badgeContent:4,color:"secondary",children:Object(ce.jsx)(g.a,{})})}),Object(ce.jsx)("p",{children:l.message.menutext})]}),Object(ce.jsxs)(F.a,{children:[Object(ce.jsx)(H.a,{"aria-label":l.notification.text,color:"inherit",size:"large",children:Object(ce.jsx)(M.a,{badgeContent:l.notification.count,color:"secondary",children:Object(ce.jsx)(I.a,{})})}),Object(ce.jsx)("p",{children:l.notification.menutext})]}),Object(ce.jsxs)(F.a,{onClick:G,children:[Object(ce.jsx)(H.a,{"aria-label":"account of current user","aria-controls":l.accountmenu.desktopid,"aria-haspopup":"true",color:"inherit",size:"large"}),Object(ce.jsx)(h.a,{}),Object(ce.jsx)("p",{children:l.accountmenu.profiletext})]})]});return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Ze,{position:"fixed",open:o,children:Object(ce.jsxs)(B.a,{children:[Object(ce.jsx)(H.a,{color:"inherit","aria-label":"open drawer",onClick:function(){console.log("handle open"),s(!0)},edge:"start",className:Object(K.a)(d.menuButton,Object(j.a)({},d.hide,o)),size:"large",children:Object(ce.jsx)(S.a,{})}),Object(ce.jsx)(L.a,{className:d.title,variant:"h6",noWrap:!0,children:"SAS On Cloud"}),Object(ce.jsx)("div",{className:d.grow}),Object(ce.jsxs)("div",{className:d.search,children:[Object(ce.jsx)("div",{className:d.searchIcon,children:Object(ce.jsx)(N.a,{})}),Object(ce.jsx)(z.c,{placeholder:l.search.placeholder,classes:{root:d.inputRoot,input:d.inputInput},inputProps:{"aria-label":"search"}})]}),Object(ce.jsx)("div",{className:d.grow}),Object(ce.jsxs)("div",{className:d.sectionDesktop,children:[Object(ce.jsx)(H.a,{"aria-label":l.message.text,color:"inherit",size:"large",children:Object(ce.jsx)(M.a,{badgeContent:l.message.count,color:"secondary",children:Object(ce.jsx)(g.a,{})})}),Object(ce.jsx)(H.a,{"aria-label":l.notification.text,color:"inherit",size:"large",children:Object(ce.jsx)(M.a,{badgeContent:l.notification.count,color:"secondary",children:Object(ce.jsx)(I.a,{})})}),Object(ce.jsx)(H.a,{edge:"end","aria-label":"account of current user","aria-controls":l.accountmenu.desktopid,"aria-haspopup":"true",onClick:G,color:"inherit",size:"large",children:Object(ce.jsx)(W.a,{alt:null===t||void 0===t?void 0:t.user.displayName,src:null===t||void 0===t?void 0:t.user.avatar})})]}),Object(ce.jsx)("div",{className:d.sectionMobile,children:Object(ce.jsx)(H.a,{"aria-label":"show more","aria-controls":l.accountmenu.mobileid,"aria-haspopup":"true",onClick:function(e){k(e.currentTarget)},color:"inherit",size:"large",children:Object(ce.jsx)(C.a,{})})})]})}),$,Q,Object(ce.jsxs)(Ke,{variant:"permanent",open:o,children:[Object(ce.jsx)("div",{className:d.toolbar,children:Object(ce.jsx)(H.a,{onClick:function(){console.log("handle close"),s(!1)},size:"large",children:"rtl"===u.direction?Object(ce.jsx)(O.a,{}):Object(ce.jsx)(x.a,{})})}),Object(ce.jsx)(V.a,{}),Object(ce.jsx)(ge,{}),Object(ce.jsx)(V.a,{}),Object(ce.jsx)(Be,{}),Object(ce.jsx)(Re,{})]})]})}function $e(e){var t=e.children,n=Ge().classes;return Object(ce.jsxs)("div",{className:n.root,children:[Object(ce.jsx)(Qe,{}),Object(ce.jsxs)("main",{className:n.content,children:[Object(ce.jsx)("div",{className:n.toolbar}),t]})]})}var Ye=n(74),et=n(279),tt=n.n(et),nt=n(278),it=n.n(nt),rt=n(276),at=n.n(rt),ot=n(280),st=n.n(ot),ct=n(277),lt=n.n(ct),dt=n(573),ut=n(304),pt=n(552),bt=n(574);function mt(){return Object(ce.jsx)("div",{children:"Para aprovar"})}var jt=[{field:"id",headerName:"ID",width:100,hide:!0},{field:"status",headerName:"Status",width:100},{field:"employee_fullname",headerName:"Colaborador",width:300},{field:"employee_email",headerName:"Email",width:200},{field:"employee_type_description",headerName:"Tipo colaborador",sortable:!0,width:120},{field:"request_type",headerName:"Tipo Chamado",sortable:!0,width:150},{field:"updated_at",headerName:"atualizado em",sortable:!0,width:200}],ft=[{field:"id",headerName:"ID",width:100,hide:!0},{field:"status",headerName:"Status",width:100},{field:"request_number",headerName:"N\xfamero",width:180},{field:"employee_fullname",headerName:"Colaborador",width:300},{field:"employee_type_description",headerName:"Tipo colaborador",sortable:!0,width:120},{field:"request_type",headerName:"Tipo Chamado",sortable:!0,width:150},{field:"updated_at",headerName:"atualizado em",sortable:!0,width:200}],ht=[{field:"id",headerName:"ID",width:100,hide:!0},{field:"request_status",headerName:"Status",width:100},{field:"request_number",headerName:"N\xfamero",width:180},{field:"employee_fullname",headerName:"Colaborador",width:300},{field:"employee_type_description",headerName:"Tipo colaborador",sortable:!0,width:120},{field:"request_type",headerName:"Tipo Chamado",sortable:!0,width:150},{field:"updated_at",headerName:"atualizado em",sortable:!0,width:200}],_t=n(67),xt=n(14),vt="https://sasdev.maktubservicos.com.br/api",Ot=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(vt,"/employees/companies"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,a=r.map((function(e){return{id:e.id,description:e.description}})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(vt,"/employees/companies"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:if(r=e.sent,!(a=r.filter((function(e){return e.id===t})))[0]){e.next=10;break}return e.abrupt("return",a[0].branchs);case 10:return e.abrupt("return",[{id:"",description:""}]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(vt,"/employees/roles?fieldoptions=S&orderby=description"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wt=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(vt,"/employees/plataforms?fieldoptions=S&orderby=description"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(vt,"/employees/costcenters?fieldoptions=S&orderby=description"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object($.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{id:"Funcion\xe1rio",description:"Funcion\xe1rio"},{id:"Terceiro",description:"Terceiro"},{id:"Rob\xf4 RCA",description:"Rob\xf4 RCA"},{id:"Outros",description:"Outros"}],e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(vt,"/employees/name/").concat(t),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,a=r.map((function(e){return{id:e.employee_id,description:e.employee_fullname,email:e.employee_email}})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(vt,"/employees/managers?fieldoptions=S&orderby=full_name"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,a=r.map((function(e){return{id:e.id,description:e.full_name}})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=function(e){return e?e.description:""},Pt=function(e){return e&&e?"".concat(e.description," ( ").concat(e.email,")"):""},Nt=function(e){return e&&e.email?e.email:""},Et=function(e){return e&&e?"".concat(e.email," ( ").concat(e.description,")"):""};function At(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object($.a)(Q.a.mark((function e(t,n){var i,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://sasdev.maktubservicos.com.br/api","/requests/user/").concat(t,"/").concat(n));case 2:return e.next=4,e.sent.json();case 4:return i=e.sent,r=i.map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{id:e.request_id,status:e.status.status})})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(e){return{id:e.request_id,request_by:e.requested_by_name,request_status:e.status.status,request_date:e.created_at,request_number:e.request_number,request_observation:e.request_observation,employee_role:{id:e.employee_role_id,description:e.employee_role_description},employee_plataform:{id:e.employee_plataform_id,description:e.employee_plataform_description},employee_costcenter:{id:e.employee_costcenter_id,description:e.employee_costcenter_description},request_category:{id:"",description:""},employee_type:{id:e.employee_type,description:e.employee_type_description},employee_manager:{id:e.employe_manager_id,description:e.employee_manager_name},employee_company:{id:e.employee_company_id,description:e.employee_company_description},employee_branch:{id:e.employee_branch_id,description:e.employee_branch_description},employee:{id:e.employee_id,description:e.employee_fullname,email:e.employee_email},employee_userid_login:e.employee_login,employee_userid_as400:{id:e.employee_as400_id,description:e.employee_as400_id_description},request_type:e.request_type}}function Dt(e,t){var n=t.workflow?t.workflow.status.id:-1;if(-1!==n){if(console.log(""),0===n)return e;if(1===n)return t.license.users.map((function(e){return e.fullname})).join(" / ");if(2===n)return t.ci.users.map((function(e){return e.fullname})).join(" / ");if(3===n)return t.cioilseeds.users.map((function(e){return e.fullname})).join(" / ");if(4===n)return"".concat(t.lider.fullname," / ").concat(t.lider_backup.fullname);if(5===n)return"N.A";if(6===n)return t.executors.users.map((function(e){return e.fullname}))}return"N.A"}function Rt(e){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object($.a)(Q.a.mark((function e(t){var n,i,r,a,o,s,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://sasdev.maktubservicos.com.br/api","/requests/").concat(t));case 2:return e.next=4,e.sent.json();case 4:return n=e.sent,i=Wt(n),r=n.saporderprofile?n.saporderprofile.map((function(e){return{id:e.id,service_id:e.service_id,service_description:e.service_description,environment:e.environment,user_id:e.user_id,job_position:""===e.job_position?"Outros":e.job_position,profile_name:e.profile_name,profile_description:e.profile_description,is_profile_temporary:e.is_profile_temporary,profile_expires_at:e.profile_expires_at,profile_valide_at:e.profile_valide_at,has_conflict:e.has_conflict,restricted_access:e.restricted_access,status:e.workflow?e.workflow.status.status:"",responsable:Dt(n.employee_manager_name,e)}})):null,a=n.saporderuser?n.saporderuser.map((function(e){return{id:e.id,service_id:e.service_id,service_description:e.service_description,environment:e.environment,user_id:e.user_id,job_position:"",profile_name:"",profile_description:"",is_profile_temporary:"",profile_expires_at:"",profile_valide_at:"",has_conflict:!1,restricted_access:!1,status:e.workflow?e.workflow.status.status:"",responsable:Dt(n.employee_manager_name,e)}})):null,o=n.as400orderprofile?n.as400orderprofile.map((function(e){return{id:e.id,service_id:e.service_id,service_description:e.service_description,environment:e.environment,is_new_user:e.is_new_user,user_id:e.user_id,system:e.system,routine:e.routine,access_type:e.access_type,restricted_access:e.restricted_acces,limited_access:e.limited_access,company_id:e.company_id,branch_id:e.branch_id,branch_name:e.branch_name,region_id:e.region_id,region_name:e.region_name,access:e.access,access_observation:e.access_observation,job_position:e.job_position,status:e.workflow?e.workflow.status.status:"",responsable:Dt(n.employee_manager_name,e)}})):null,s=n.as400orderuser?n.as400orderuser.map((function(e){return{id:e.id,service_id:e.service_id,service_description:e.service_description,environment:e.environment,is_new_user:e.is_new_user,user_id:e.user_id,copy_user_id_status:e.copy_user_id_status,copy_user_id:e.copy_user_id,status:e.workflow?e.workflow.status.status:"",responsable:Dt(n.employee_manager_name,e)}})):null,c=Object(m.a)(Object(m.a)({},i),{},{saptable:r||a?[].concat(Object(xt.a)(r),Object(xt.a)(a)):null,as400table:[].concat(Object(xt.a)(s),Object(xt.a)(o))}),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://sasdev.maktubservicos.com.br/api","/requests"));case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object($.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://sasdev.maktubservicos.com.br/api","/requests/workflow/").concat(t));case 2:return e.next=4,e.sent.json();case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e){var t=e.report,n=e.columns,i=r.useState(),a=Object(b.a)(i,2),o=a[0],s=a[1],c=pe().accountInfo,l=r.useState(!1),d=Object(b.a)(l,2),u=d[0],m=d[1],j=Object(p.g)();function f(){return f=Object($.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At((null===c||void 0===c?void 0:c.user.displayName)||"",t);case 2:n=e.sent,u||s(n);case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}return Object(r.useEffect)((function(){return m(!1),function(){f.apply(this,arguments)}(),function(){m(!0)}}),[]),Object(ce.jsx)("div",{style:{height:650,width:"95%"},children:Object(ce.jsx)(_t.a,{rows:o||[],columns:n,pageSize:50,rowsPerPageOptions:[10,20,50,100],checkboxSelection:!1,onCellDoubleClick:function(e){var t=e.getValue(e.id,"id");return j.push("/request/".concat(t)),""}})})}function Vt(){return Object(ce.jsx)("div",{children:"to be done"})}var Gt=["children","value","index"],Xt=Object(Oe.a)({root:{flexGrow:1}});function Ht(){var e=pe().accountInfo,t=Xt(),n=a.a.useState(1),i=Object(b.a)(n,2),o=i[0],s=i[1],c=a.a.useState(!0),l=Object(b.a)(c,2),d=l[0],u=l[1],p=a.a.useState({draft:0,open:0,closed:0,aproving:0,executing:0}),j=Object(b.a)(p,2),f=j[0],h=j[1];function _(){return(_=Object($.a)(Q.a.mark((function t(){var n,i;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null===e||void 0===e?void 0:e.user.displayName,t.next=3,fetch("".concat("https://sasdev.maktubservicos.com.br/api","/requests/count/").concat(n));case 3:return t.next=5,t.sent.json();case 5:i=t.sent,console.log(i),h(i);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(e){var t=e.children,n=e.value,i=e.index,r=Object(Ye.a)(e,Gt);return Object(ce.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:n!==i,id:"scrollable-prevent-tabpanel-".concat(i),"aria-labelledby":"scrollable-prevent-tab-".concat(i)},r),{},{children:n===i&&Object(ce.jsx)(dt.a,{p:3,children:Object(ce.jsx)(L.a,{component:"div",children:t})})}))}return Object(r.useEffect)((function(){!function(){_.apply(this,arguments)}(),u(!1)}),[]),Object(ce.jsxs)(ut.a,{square:!0,className:t.root,children:[Object(ce.jsxs)(pt.a,{value:o,onChange:function(e,t){s(t)},variant:"fullWidth",indicatorColor:"secondary",textColor:"secondary","aria-label":"icon label tabs example",children:[Object(ce.jsx)(bt.a,{icon:Object(ce.jsx)(at.a,{}),label:"Rascunhos(".concat(null===f||void 0===f?void 0:f.draft,")")}),Object(ce.jsx)(bt.a,{icon:Object(ce.jsx)(lt.a,{}),label:"Em Andamento(".concat(null===f||void 0===f?void 0:f.open,")"),disabled:0===(null===f||void 0===f?void 0:f.open)}),Object(ce.jsx)(bt.a,{icon:Object(ce.jsx)(it.a,{}),label:"Encerrados(".concat(null===f||void 0===f?void 0:f.closed,")")}),Object(ce.jsx)(bt.a,{icon:Object(ce.jsx)(tt.a,{}),label:"Para Aprovar(".concat(null===f||void 0===f?void 0:f.aproving,"\n        )")}),Object(ce.jsx)(bt.a,{icon:Object(ce.jsx)(st.a,{}),label:"Para Executar(".concat(null===f||void 0===f?void 0:f.executing,")")})]}),d&&"...loading",!d&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(x,{value:o,index:0,children:Object(ce.jsx)(zt,{columns:jt,report:"draft"})}),Object(ce.jsx)(x,{value:o,index:1,children:Object(ce.jsx)(zt,{columns:ft,report:"open"})}),Object(ce.jsx)(x,{value:o,index:2,children:Object(ce.jsx)(zt,{columns:ht,report:"closed"})}),Object(ce.jsx)(x,{value:o,index:3,children:Object(ce.jsx)(mt,{})}),Object(ce.jsx)(x,{value:o,index:4,children:Object(ce.jsx)(Vt,{})})]})]})}var Jt=n(580),Kt=n(553),Zt=n(556),Qt=n(576),$t=n(579),Yt=n(572),en=n(575),tn=n(577),nn=n(578);function rn(e){var t=e.rows;return Object(ce.jsx)(en.a,{component:ut.a,children:Object(ce.jsxs)(Qt.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(ce.jsx)(tn.a,{children:Object(ce.jsxs)(nn.a,{children:[Object(ce.jsx)(Yt.a,{children:"Grupo"}),Object(ce.jsx)(Yt.a,{align:"right",children:"Respons\xe1veis"}),Object(ce.jsx)(Yt.a,{align:"right",children:"Pendentes"}),Object(ce.jsx)(Yt.a,{align:"right",children:"Analisados"}),Object(ce.jsx)(Yt.a,{align:"right",children:"Analisado por"}),Object(ce.jsx)(Yt.a,{align:"right",children:"Analisado em"})]})}),Object(ce.jsx)($t.a,{children:t.responsables.map((function(e,t){return Object(ce.jsxs)(nn.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(ce.jsx)(Yt.a,{align:"right",children:e.group}),Object(ce.jsx)(Yt.a,{align:"right",children:e.users.join(" / ")}),Object(ce.jsx)(Yt.a,{align:"right",children:e.doingCount}),Object(ce.jsx)(Yt.a,{align:"right",children:e.doneCount}),Object(ce.jsx)(Yt.a,{align:"right",children:e.doneBy})]},t)}))})]})})}function an(e){var t=e.request_id,n=r.useState(!1),i=Object(b.a)(n,2),a=i[0],o=i[1],s=r.useState([]),c=Object(b.a)(s,2),l=c[0],d=c[1],u=[],p=r.useState(0),j=Object(b.a)(p,2),f=j[0],h=j[1],_=r.useState(new Set),x=Object(b.a)(_,2),v=x[0],O=x[1];function y(){return(y=Object($.a)(Q.a.mark((function e(){var n,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(t);case 2:n=e.sent,a||(n.forEach((function(e){e.isRequired&&u.push(e)})),d(u),console.log(n),i=u.findIndex((function(e){return e.isInitial})),h(-1===i?0:i),console.log("posi\xe7\xe3o corrente",i),console.log("definiu initial data",n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.useEffect((function(){return o(!1),function(){y.apply(this,arguments)}(),console.log("terminou de carregar"),function(){console.log("entrou no cancelado"),o(!0)}}),[]);var g=function(e){return v.has(e)};return Object(ce.jsxs)(dt.a,{sx:{width:"100%"},children:[l&&Object(ce.jsx)(Zt.a,{activeStep:f||0,sx:{marginTop:"24px",marginBottom:"24px",alignContent:"center",justifyContent:"center"},children:l.map((function(e,t){var n={},i={};return e.statusObservation&&(i.optional=Object(ce.jsx)(L.a,{variant:"caption",children:e.statusObservation})),g(t)&&(n.completed=e.isConcluded),n.completed=e.isConcluded,Object(ce.jsx)(Jt.a,Object(m.a)(Object(m.a)({},n),{},{color:"success",children:Object(ce.jsx)(Kt.a,Object(m.a)(Object(m.a)({},i),{},{children:e.status}))}),e.status)}))}),f===l.length?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(L.a,{sx:{mt:2,mb:1},children:"All steps completed - you're finished"}),Object(ce.jsxs)(dt.a,{sx:{display:"flex",flexDirection:"row",pt:2},children:[Object(ce.jsx)(dt.a,{sx:{flex:"1 1 auto"}}),Object(ce.jsx)(R.a,{onClick:function(){h(0)},children:"Reset"})]})]}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(L.a,{sx:{mt:2,mb:1},children:[l[f].text,Object(ce.jsx)(rn,{rows:l[f]})]}),Object(ce.jsxs)(dt.a,{sx:{display:"flex",flexDirection:"row",pt:2},children:[Object(ce.jsx)(R.a,{color:"inherit",disabled:0===f,onClick:function(){h((function(e){return e-1}))},sx:{mr:1},children:"Back"}),Object(ce.jsx)(dt.a,{sx:{flex:"1 1 auto"}}),Object(ce.jsx)(R.a,{onClick:function(){var e=v;g(f)&&(e=new Set(e.values())).delete(f),h((function(e){return e+1===l.length?0:e+1})),O(e)},children:f===u.length-1?"Finish":"Next"})]})]})]})}var on=[{field:"id",headerName:"ID",width:30,hide:!0},{field:"status",headerName:"Status",width:90},{field:"environment",headerName:"Ambiente",width:90},{field:"service_id",headerName:"C\xf3d.",width:60},{field:"service_description",headerName:"Servi\xe7o",width:180},{field:"user_id",headerName:"User ID",width:130},{field:"job_position",headerName:"Tipo Perfil",width:120},{field:"system",headerName:"Sis.",width:80},{field:"routine",headerName:"rotina.",width:80},{field:"access_type",headerName:"Seg",width:60},{field:"company_id",headerName:"Empresa",width:100},{field:"branch_id",headerName:"Filial.",width:120},{field:"region_id",headerName:"Regi\xe3o.",width:120},{field:"access",headerName:"Acesso",width:120},{field:"responsable",headerName:"Respons\xe1vel(eis)",sortable:!0,width:200}];function sn(e){var t=e.rows;return Object(ce.jsx)("div",{style:{height:400,width:"100%"},children:Object(ce.jsx)(_t.a,{rows:t,columns:on,pageSize:30,rowsPerPageOptions:[5,10,30],checkboxSelection:!0})})}var cn=n(560),ln=n(223);function dn(e){var t=e.name,n=e.label,i=e.fullWidth,r=e.value,a=e.multiline,o=e.maxRows;return Object(ce.jsx)(ln.a,{id:t,label:n,defaultValue:r,fullWidth:i,InputProps:{readOnly:!0},multiline:a,maxRows:o})}function un(e){var t=e.values,n=t.request_by,i=t.employee,r=t.request_date,a=t.employee_type,o=t.employee_role,s=t.employee_costcenter,c=t.employee_manager,l=t.request_number,d=t.request_status,u=t.employee_plataform,p=t.employee_company,b=t.employee_branch,m=t.request_observation;return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(cn.a,{container:!0,justifyContent:"space-between",spacing:2,children:[Object(ce.jsxs)(cn.a,{item:!0,xs:6,children:[Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsxs)(cn.a,{item:!0,xs:8,children:[Object(ce.jsx)(dn,{name:"request_by",label:"Solicitante",fullWidth:!0,value:n||""}),Object(ce.jsx)(dn,{name:"employee",label:"Colaborador",fullWidth:!0,value:i.description||""})]}),Object(ce.jsxs)(cn.a,{item:!0,xs:4,children:[Object(ce.jsx)(dn,{name:"request.request_date",label:"Data da solicita\xe7\xe3o",fullWidth:!1,value:r?r.toLocaleString():""}),Object(ce.jsx)(dn,{name:"request.employee_type",label:"Tipo",value:(null===a||void 0===a?void 0:a.description)||"",fullWidth:!0})]})]}),Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(dn,{name:"request.employee_role",label:"Cargo",value:o?"".concat(o.id,"-").concat(o.description):"",fullWidth:!0})}),Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(dn,{name:"request.employee_costcenter",label:"Centro de Custo",value:s?"".concat(s.id,"-").concat(s.description):"",fullWidth:!0})})]}),Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(dn,{name:"request.employee_manager",label:"Gestor",value:(null===c||void 0===c?void 0:c.description)||"",fullWidth:!0})})})]}),Object(ce.jsxs)(cn.a,{item:!0,xs:6,children:[Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsxs)(cn.a,{item:!0,xs:12,children:[Object(ce.jsx)(dn,{name:"request.request_number",label:"N\xfamero",fullWidth:!1,value:l||""}),Object(ce.jsx)(dn,{name:"request.request_status",label:"Status",fullWidth:!1,value:d||""})]})}),Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(dn,{name:"request.employee",label:"Email",fullWidth:!0,value:i.email||""})}),Object(ce.jsx)(cn.a,{item:!0,xs:4,children:Object(ce.jsx)(dn,{name:"request.employee_plataform",label:"Plataforma",fullWidth:!0,value:(null===u||void 0===u?void 0:u.description)||""})})]}),Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:4,children:Object(ce.jsx)(dn,{name:"request.employee_company",label:"Empresa",fullWidth:!0,value:p?"".concat(p.id,"-").concat(p.description):""})}),Object(ce.jsx)(cn.a,{item:!0,xs:7,children:Object(ce.jsx)(dn,{name:"request.employee_branch",label:"Filial",fullWidth:!0,value:b?"".concat(b.id,"-").concat(b.description):""})})]}),Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsx)(cn.a,{item:!0,xs:11,children:Object(ce.jsx)(dn,{name:"request.request_observation",label:"Observa\xe7\xe3o",multiline:!0,maxRows:4,fullWidth:!0,value:m})})})]})]})})}var pn=[{field:"id",headerName:"ID",width:30,hide:!0},{field:"status",headerName:"Status",width:90},{field:"environment",headerName:"Ambiente",width:90},{field:"service_id",headerName:"C\xf3d.",width:60},{field:"service_description",headerName:"Servi\xe7o",width:180},{field:"user_id",headerName:"User ID",width:130},{field:"job_position",headerName:"Tipo Perfil",width:120},{field:"profile_name",headerName:"Perfil",sortable:!0,width:400},{field:"profile_description",headerName:"Descri\xe7\xe3o",sortable:!0,width:400},{field:"responsable",headerName:"Respons\xe1vel(eis)",sortable:!0,width:200}];function bn(e){var t=e.rows;return console.log(t),Object(ce.jsx)("div",{style:{height:400,width:"100%"},children:Object(ce.jsx)(_t.a,{rows:t,columns:pn,pageSize:30,rowsPerPageOptions:[5,10,30],checkboxSelection:!1})})}function mn(){var e=Object(p.h)(),t=r.useState(!1),n=Object(b.a)(t,2),i=n[0],a=n[1],o=r.useState(),s=Object(b.a)(o,2),c=s[0],l=s[1];function d(){return(d=Object($.a)(Q.a.mark((function t(){var n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rt(e.id);case 2:n=t.sent,console.log("no form",n),i||(l(n),console.log("definiu initial data",n));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.useEffect((function(){return a(!1),function(){d.apply(this,arguments)}(),console.log("terminou de carregar"),function(){console.log("entrou no cancelado"),a(!0)}}),[]),Object(ce.jsx)(dt.a,{sx:{marginTop:"4px","& .MuiTextField-root":{m:1,minWidth:"30px"},"& .MuiInputBase-root":{m:1,minWidth:"30px"},"& .MuiDataGrid-root":{m:1,minWidth:"30px"}},children:c&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(un,{values:c}),0!==c.saptable.length&&Object(ce.jsx)(bn,{rows:c.saptable}),0!==c.as400table.length&&Object(ce.jsx)(sn,{rows:c.as400table}),Object(ce.jsx)(an,{request_id:e.id})]})})}var jn=n(302),fn=n(475),hn=n(472),_n=n(473),xn=n(561);function vn(e){var t=e.classes,n=e.onSelectAllClick,i=e.order,r=e.orderBy,a=e.numSelected,o=e.rowCount,s=e.onRequestSort,c=e.headCells;return Object(ce.jsx)(tn.a,{children:Object(ce.jsxs)(nn.a,{children:[Object(ce.jsx)(Yt.a,{padding:"checkbox",children:Object(ce.jsx)(jn.a,{indeterminate:a>0&&a<o,checked:o>0&&a===o,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),c.map((function(e){return Object(ce.jsx)(Yt.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&i,children:Object(ce.jsxs)(xn.a,{active:r===e.id,direction:r===e.id?i:"asc",onClick:(n=e.id,function(e){s(e,n)}),children:[e.label,r===e.id?Object(ce.jsx)("span",{className:t.visuallyHidden,children:"desc"===i?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var On=n(281),yn=n.n(On),gn=n(282),wn=n.n(gn),Sn=n(225),kn=Object(Oe.a)((function(e){return Object(Ve.a)({root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.mode?{color:e.palette.secondary.main,backgroundColor:Object(Le.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}})})),Cn=function(e){var t=kn(),n=e.numSelected,i=e.title;return Object(ce.jsxs)(B.a,{className:Object(K.a)(t.root,Object(j.a)({},t.highlight,n>0)),children:[n>0?Object(ce.jsxs)(L.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(ce.jsx)(L.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:i}),n>0?Object(ce.jsx)(Sn.a,{title:"Delete",children:Object(ce.jsx)(H.a,{"aria-label":"delete",size:"large",children:Object(ce.jsx)(yn.a,{})})}):Object(ce.jsx)(Sn.a,{title:"Filter list",children:Object(ce.jsx)(H.a,{"aria-label":"filter list",size:"large",children:Object(ce.jsx)(wn.a,{})})})]})},qn=(Object(Oe.a)((function(e){return Object(Ve.a)({root:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},highlight:"light"===e.palette.mode?{color:e.palette.secondary.main,backgroundColor:Object(Le.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}})})),Object(Oe.a)((function(e){return Object(Ve.a)({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})})));function In(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Pn(e,t){return"desc"===e?function(e,n){return In(e,n,t)}:function(e,n){return-In(e,n,t)}}function Nn(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var i=t(e[0],n[0]);return 0!==i?i:e[1]-n[1]})),n.map((function(e){return e[0]}))}function En(e){var t=e.rows,n=e.headerData,i=e.title,r=e.tableType,o=qn(),s=a.a.useState("asc"),c=Object(b.a)(s,2),l=c[0],d=c[1],u=a.a.useState("request_number"),m=Object(b.a)(u,2),j=m[0],f=m[1],h=a.a.useState([]),_=Object(b.a)(h,2),x=_[0],v=_[1],O=a.a.useState(0),y=Object(b.a)(O,2),g=y[0],w=y[1],S=a.a.useState(!1),k=Object(b.a)(S,2),C=k[0],q=k[1],I=a.a.useState(15),P=Object(b.a)(I,2),N=P[0],E=P[1],A=Object(p.g)(),T=function(e,t){var n=x.indexOf(t),i=[];-1===n?i=i.concat(x,t):0===n?i=i.concat(x.slice(1)):n===x.length-1?i=i.concat(x.slice(0,-1)):n>0&&(i=i.concat(x.slice(0,n),x.slice(n+1))),v(i)},W=function(e,t){A.push("/request/".concat(t))},D=N-Math.min(N,t.length-g*N);return Object(ce.jsxs)("div",{className:o.root,children:[Object(ce.jsxs)(ut.a,{className:o.paper,children:[Object(ce.jsx)(Cn,{numSelected:x.length,title:i}),Object(ce.jsx)(en.a,{children:Object(ce.jsxs)(Qt.a,{className:o.table,"aria-labelledby":"tableTitle",size:C?"small":"medium","aria-label":"enhanced table",children:[Object(ce.jsx)(vn,{classes:o,numSelected:x.length,order:l,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.request_id}));v(n)}else v([])},onRequestSort:function(e,t){d(j===t&&"asc"===l?"desc":"asc"),f(t)},rowCount:t.length,headCells:n}),Object(ce.jsxs)($t.a,{children:[Nn(t,Pn(l,j)).slice(g*N,g*N+N).map((function(e,t){var n,i=(n=e.request_id,-1!==x.indexOf(n)),a="enhanced-table-checkbox-".concat(t),o="status"===r?function(e,t,n){return Object(ce.jsxs)(nn.a,{hover:!0,role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,onClick:function(t){return W(0,e.request_id)},children:[Object(ce.jsx)(Yt.a,{padding:"checkbox",children:Object(ce.jsx)(jn.a,{checked:t,inputProps:{"aria-labelledby":n},onClick:function(t){t.stopPropagation(),T(0,e.request_id)}})}),Object(ce.jsx)(Yt.a,{component:"th",id:n,scope:"row",padding:"none",children:e.request_status}),Object(ce.jsx)(Yt.a,{children:e.request_number}),Object(ce.jsx)(Yt.a,{align:"right",children:e.employee_fullname}),Object(ce.jsx)(Yt.a,{children:e.request_type})]},e.request_id)}(e,i,a):function(e,t,n){return Object(ce.jsxs)(nn.a,{hover:!0,onClick:function(t){return W(0,e.request_id)},role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,children:[Object(ce.jsx)(Yt.a,{padding:"checkbox",children:Object(ce.jsx)(jn.a,{checked:t,inputProps:{"aria-labelledby":n},onClick:function(t){t.stopPropagation(),T(0,e.request_id)}})}),Object(ce.jsx)(Yt.a,{component:"th",id:n,scope:"row",padding:"none",children:e.request_number}),Object(ce.jsx)(Yt.a,{children:e.request_status}),Object(ce.jsx)(Yt.a,{align:"right",children:e.employee_fullname}),Object(ce.jsx)(Yt.a,{children:e.request_type})]},e.request_id)}(e,i,a);return o})),D>0&&Object(ce.jsx)(nn.a,{style:{height:(C?33:53)*D},children:Object(ce.jsx)(Yt.a,{colSpan:6})})]})]})}),Object(ce.jsx)(_n.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:N,page:g,onPageChange:function(e,t){w(t)},onRowsPerPageChange:function(e){E(parseInt(e.target.value,10)),w(0)}})]}),Object(ce.jsx)(fn.a,{control:Object(ce.jsx)(hn.a,{checked:C,onChange:function(e){q(e.target.checked)}}),label:"Dense padding"})]})}function An(){var e=Object(p.h)(),t=Object(r.useState)([]),n=Object(b.a)(t,2),i=n[0],a=n[1],o={headCells:"status"===e.orderby?[{id:"request_status",numeric:!1,disablePadding:!0,label:"Status"},{id:"request_number",numeric:!1,disablePadding:!1,label:"Num"},{id:"employee_fullname",numeric:!1,disablePadding:!1,label:"Colaborador"},{id:"request_type",numeric:!1,disablePadding:!1,label:"Tipo"}]:[{id:"request_number",numeric:!1,disablePadding:!0,label:"Num"},{id:"request_status",numeric:!1,disablePadding:!1,label:"Status"},{id:"employee_fullname",numeric:!1,disablePadding:!1,label:"Colaborador"},{id:"request_type",numeric:!1,disablePadding:!1,label:"Tipo"}]};function s(){return(s=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){s.apply(this,arguments)}()}),[]),Object(ce.jsx)("div",{children:Object(ce.jsx)(En,{rows:i,headerData:o.headCells,title:"Listagem de requests - ".concat(e.orderby),tableType:e.orderby})})}var Tn=n.p+"static/media/LDC_logo.e1f3b1fa.png";function Wn(){var e=pe(),t=e.signInWithAD,n=e.accountInfo,i=Object(p.g)();function r(){return(r=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("@AzureAd:accessToken")){e.next=5;break}return console.log("logando"),e.next=5,t();case 5:i.replace("/home");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var a=Object(Oe.a)((function(e){return Object(Ve.a)({root:{display:"flex"},mainContent:{display:"flex",flexGrow:1,padding:e.spacing(3),flexDirection:"column",alignItems:"center"},thisContent:{display:"flex",flexGrow:1,padding:e.spacing(3),flexDirection:"column",alignItems:"left",maxWidth:500},logo:{width:200,padding:e.spacing(1)},button:{width:80,padding:0,alignItems:"center",marginLeft:50}})}))();return Object(ce.jsxs)("div",{className:a.root,children:[(null===n||void 0===n?void 0:n.isAuthenticated)?Object(ce.jsx)(p.a,{to:"/home"}):"",Object(ce.jsx)("main",{className:a.mainContent,children:Object(ce.jsxs)(ut.a,{children:[Object(ce.jsxs)("div",{className:a.root,children:[Object(ce.jsx)("img",{src:Tn,alt:"LDC Brazil",className:a.logo}),Object(ce.jsxs)("div",{className:a.thisContent,children:[Object(ce.jsx)(L.a,{children:"Por favor, clique no bot\xe3o para fazer o login utilizando seu email da LDC."}),Object(ce.jsx)("div",{children:Object(ce.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){return r.apply(this,arguments)},children:"Entrar"})})]})]}),Object(ce.jsx)("p",{})]})})]})}var Dn=n(285),Rn=n.n(Dn),Un=n(287),Fn=n.n(Un),Mn=n(286),Bn=n.n(Mn),Ln=n(476),zn=n(25),Vn=["children"];function Gn(e){var t=e.children;return Object(ce.jsxs)(ce.Fragment,{children:[t," "]})}function Xn(e){var t=e.children,n=Object(Ye.a)(e,Vn),i=r.Children.toArray(t),a=r.useState(0),o=Object(b.a)(a,2),s=o[0],c=o[1],l=r.useState(!1),d=Object(b.a)(l,2),u=d[0],p=d[1],j=i[s];function f(){return s===i.length-1}return Object(ce.jsx)(zn.b,Object(m.a)(Object(m.a)({},n),{},{validationSchema:j.props.validationSchema,onSubmit:function(){var e=Object($.a)(Q.a.mark((function e(t,r){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s!==i.length-1){e.next=6;break}return e.next=3,n.onSubmit(t,r);case 3:p(!0),e.next=7;break;case 6:c((function(e){return e+1}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.status;return Object(ce.jsxs)(zn.a,{autoComplete:"off",children:[Object(ce.jsx)(Zt.a,{alternativeLabel:!0,activeStep:s,sx:{marginTop:"24px",marginBottom:"24px",alignContent:"center",justifyContent:"center"},children:i.map((function(e,t){return Object(ce.jsx)(Jt.a,{completed:s>t||u,children:Object(ce.jsx)(Kt.a,{children:e.props.label})},e.props.label)}))}),j,Object(ce.jsxs)(cn.a,{container:!0,spacing:2,sx:{marginTop:"8px",alignContent:"center",justifyContent:"center"},children:[!n&&s>0?Object(ce.jsx)(cn.a,{item:!0,children:Object(ce.jsx)(R.a,{disabled:t,variant:"contained",color:"primary",size:"large",onClick:function(){return c((function(e){return e-1}))},startIcon:Object(ce.jsx)(Rn.a,{}),children:"Voltar"})}):null,!n&&Object(ce.jsx)(cn.a,{item:!0,children:Object(ce.jsx)(R.a,{startIcon:t?Object(ce.jsx)(Ln.a,{size:"1rem"}):null,disabled:t,variant:"contained",color:"primary",type:"submit",size:"large",endIcon:f()&&!t?Object(ce.jsx)(Bn.a,{}):Object(ce.jsx)(Fn.a,{}),children:t?"Submitting":f()?"Enviar":"Pr\xf3ximo"})})]})]})}}))}var Hn=n(149),Jn=n(581);var Kn=n(289),Zn=n.n(Kn),Qn=n(288),$n=n.n(Qn),Yn=n(550),ei=Object(ce.jsx)($n.a,{fontSize:"small"}),ti=Object(ce.jsx)(Zn.a,{fontSize:"small"});var ni=n(123),ii=n.n(ni);var ri=["label"];var ai,oi,si="https://sasdev.maktubservicos.com.br/api",ci=function(){var e=Object($.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{id:"ECC",description:"ECC-Produ\xe7\xe3o"},{id:"BW",description:"BW-Produ\xe7\xe3o"},{id:"BRT",description:"BRT-Teste"},{id:"GRC",description:"GRC-Produ\xe7\xe3o NFP"},{id:"SIGGA",description:"SIGGA-Mobile Manuten\xe7\xe3o"}],e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.New="S",e.Existent="N",e.Blocked="D"}(ai||(ai={})),function(e){e.AddProfile="24",e.ExcludeProfile="25",e.CreateUser="26",e.BlockUser="27",e.UnBlockUser="194"}(oi||(oi={}));var li=function(){var e=Object($.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("...pegando user types"),t!==oi.AddProfile){e.next=3;break}return e.abrupt("return",[{id:ai.New,description:"Novo"},{id:ai.Existent,description:"Existente"},{id:ai.Blocked,description:"Desbloqueio"}]);case 3:if(t!==oi.UnBlockUser){e.next=5;break}return e.abrupt("return",[{id:ai.Blocked,description:"Desbloqueio"}]);case 5:return e.abrupt("return",[{id:ai.Existent,description:"Existente"}]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),di=function(){var e=Object($.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Getting service yptes ".concat(t)),t){e.next=3;break}return e.abrupt("return",[{id:oi.AddProfile,description:"Libera\xe7\xe3o de Perfil"},{id:oi.ExcludeProfile,description:"Exclus\xe3o de Perfil"},{id:oi.BlockUser,description:"Bloqueio de Usu\xe1rio"},{id:oi.UnBlockUser,description:"Desbloqueio de Usu\xe1rio"}]);case 3:if("N"!==t){e.next=5;break}return e.abrupt("return",[{id:oi.AddProfile,description:"Libera\xe7\xe3o de Perfil"},{id:oi.ExcludeProfile,description:"Exclus\xe3o de Perfil"},{id:oi.BlockUser,description:"Bloqueio de Usu\xe1rio"}]);case 5:if("D"!==t){e.next=7;break}return e.abrupt("return",[{id:oi.AddProfile,description:"Libera\xe7\xe3o de Perfil"},{id:oi.ExcludeProfile,description:"Exclus\xe3o de Perfil"},{id:oi.UnBlockUser,description:"Desbloqueio de Usu\xe1rio"}]);case 7:return e.abrupt("return",[{id:oi.AddProfile,description:"Libera\xe7\xe3o de Perfil"},{id:oi.ExcludeProfile,description:"Exclus\xe3o de Perfil"}]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ui=function(){var e=Object($.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{id:"1",description:"Outros"},{id:"2",description:"Job Position"}],e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pi=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?"".concat(si,"/sap/users/").concat(t):"".concat(si,"/sap/users/ECC"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,a=r.map((function(e){return{id:e.user_user_id,description:e.user_user_name}})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bi=function(){var e=Object($.a)(Q.a.mark((function e(t,n){var i,r,a,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(si,"/sap/jobpositions/").concat(t,"/").concat(n),console.log("searching on ".concat(i)),e.next=4,fetch(i);case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,o=a.map((function(e){return{id:e.id,description:e.job_position}})),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mi=function(){var e=Object($.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{id:"S",description:"Sim"},{id:"N",description:"N\xe3o"}],e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ji=function(){var e=Object($.a)(Q.a.mark((function e(t,n,i){var r,a,o,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("searching on ".concat(t)),r="".concat(si,"/sap/profiles/search/").concat(t,"?param=").concat(n,"&take=").concat(i),console.log("searching on ".concat(r)),e.next=5,fetch(r);case 5:return a=e.sent,e.next=8,a.json();case 8:return o=e.sent,s=o.map((function(e){return{id:e.profile_name,description:e.profile_description}})),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}();var fi=["labelWithId","inputProps","name"];function hi(e){var t=e.labelWithId,n=e.inputProps,i=e.name,r=Object(Ye.a)(e,fi),a=Object(zn.c)(i),o=Object(b.a)(a,2),s=o[0],c=o[1],l=Object(m.a)(Object(m.a)({},s),r);return c&&c.touched&&c.error&&(l.error=!0,l.helperText=c.error),s.value&&"object"===typeof s.value&&(l.value=t?"".concat(s.value.id,"-").concat(s.value.description):s.value.description),Object(ce.jsx)(ln.a,Object(m.a)({id:i,defaultValue:l.value,InputProps:n},l))}var _i,xi={InputText:hi,InputSelect:function(e){var t=e.label,n=e.name,i=e.labelWithId,a=e.optionsPrimaryKey,o=e.onChangeCleanFieldName,s=e.editMode,c=e.defaultOptions,l=e.getOptions,d=Object(zn.c)(n),u=Object(b.a)(d,2),p=u[0],f=u[1],h=Object(zn.d)(),_=h.setFieldValue,x=h.setTouched,v=r.useState(p.value?i?"".concat(p.value.id,"-").concat(p.value.description):p.value.id:""),O=Object(b.a)(v,2),y=O[0],g=O[1],w=r.useState(!1),S=Object(b.a)(w,2),k=S[0],C=S[1],q=r.useState([]),I=Object(b.a)(q,2),P=I[0],N=I[1],E=k&&0===P.length,A={};return f&&f.touched&&f.error&&(A.error=!0,A.helperText=f.error),r.useEffect((function(){var e=!0;if(E)return Object($.a)(Q.a.mark((function t(){var i;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=11;break}if(!c){t.next=5;break}N(Object(xt.a)(c)),t.next=11;break;case 5:if(!l){t.next=11;break}return t.next=8,l(a);case 8:i=t.sent,N(Object(xt.a)(i)),1===i.length&&_(n,i[0]);case 11:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[E]),r.useEffect((function(){k||N([])}),[k]),Object(ce.jsxs)(ce.Fragment,{children:[!s&&Object(ce.jsx)(hi,{name:n,label:t,fullWidth:!0,labelWithId:i,inputProps:{readOnly:!0}}),s&&Object(ce.jsx)(Yn.a,Object(m.a)(Object(m.a)({id:n,autoComplete:!0},p),{},{inputValue:y,open:k,onOpen:function(){C(!0)},onClose:function(){C(!1)},onBlur:function(){return x(Object(j.a)({},n,!0))},isOptionEqualToValue:function(e,t){return e.id===t.id||e.description.toUpperCase()===t.description.toUpperCase()},getOptionLabel:function(e){return""===e.description?"":i?"".concat(e.id,"-").concat(e.description):e.description},options:P,loading:E,onChange:function(e,t){_(n,t),o&&(console.log("cleaning ".concat(o)),_(o,{id:"",description:""}))},onInputChange:function(e,t){g(t)},renderInput:function(e){return Object(ce.jsx)(ln.a,Object(m.a)(Object(m.a)({},e),{},{label:t,InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{endAdornment:Object(ce.jsxs)(ce.Fragment,{children:[E?Object(ce.jsx)(Ln.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})},A))}}))]})},InputEmployee:function(e){var t=e.label,n=e.name,i=e.helperText,a=e.getOptions,o=e.setLabelOption,s=e.setLabelHintOptions,c=Object(zn.c)(n),l=Object(b.a)(c,2),d=l[0],u=l[1],p=Object(zn.d)().setFieldValue,j=r.useState(o(d.value)),f=Object(b.a)(j,2),_=f[0],x=f[1],v=r.useState([]),O=Object(b.a)(v,2),y=O[0],g=O[1],w={};u&&u.touched&&u.error&&(w.error=!0,w.helperText=u.error);var S=r.useMemo((function(){return ii()(function(){var e=Object($.a)(Q.a.mark((function e(t,n){var i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.input);case 2:i=e.sent,n(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),200)}),[]);return r.useEffect((function(){var e=!0;if(""!==_)return S({input:_},(function(t){if(e){var n=[];t&&(n=[].concat(Object(xt.a)(n),Object(xt.a)(t))),g(n)}})),function(){e=!1}}),[d.value,_,S]),Object(ce.jsx)(Yn.a,Object(m.a)(Object(m.a)({id:n,getOptionLabel:function(e){return o(e)},filterOptions:function(e){return e},options:y,autoComplete:!0,filterSelectedOptions:!0},d),{},{inputValue:_,onChange:function(e,t){p(n,t),p("request.updateEmployee",!0)},onInputChange:function(e,t){x(t)},renderInput:function(e){return Object(ce.jsx)(ln.a,Object(m.a)(Object(m.a)({},e),{},{label:t,fullWidth:!0,helperText:i},w))},renderOption:function(e,t){return Object(ce.jsx)("li",Object(m.a)(Object(m.a)({},e),{},{children:Object(ce.jsxs)(cn.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)(cn.a,{item:!0,children:Object(ce.jsx)(dt.a,{component:h.a,sx:{color:"text.secondary",mr:2}})}),Object(ce.jsx)(cn.a,{item:!0,xs:!0,children:Object(ce.jsx)(L.a,{variant:"body2",color:"text.secondary",children:s(t)})})]})}))}}))},InputSAPProfiles:function(e){var t=e.name,n=e.label,i=e.placeHolder,a=e.parentValue,o=e.addToTable,s=e.handleProfileChange,c=e.disabledOptions,l=r.useState([]),d=Object(b.a)(l,2),u=d[0],p=d[1],j=Object(zn.c)(t),f=Object(b.a)(j,2),h=f[0],_=f[1],x=Object(zn.d)().setFieldValue,v=r.useState(""),O=Object(b.a)(v,2),y=O[0],g=O[1],w={};_&&_.touched&&_.error&&(w.error=!0,w.helperText=_.error);var S=r.useMemo((function(){return ii()(function(){var e=Object($.a)(Q.a.mark((function e(t,n){var i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(a,t.input,"20");case 2:i=e.sent,n(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),200)}),[a]);return r.useEffect((function(){var e=!0;if(""!==y)return S({input:y},(function(t){if(e){var n=[];t&&(n=[].concat(Object(xt.a)(n),Object(xt.a)(t))),p(n)}})),function(){e=!1};p(h.value||[])}),[h.value,y,S]),Object(ce.jsx)(Yn.a,Object(m.a)(Object(m.a)({multiple:!0,id:t},h),{},{inputValue:y,options:u,getOptionLabel:function(e){return"".concat(e.id," - ").concat(e.description)},filterSelectedOptions:!0,onChange:function(e,n){x(t,n),o&&s(n)},onInputChange:function(e,t){g(t)},getOptionDisabled:function(e){return!![].concat(Object(xt.a)(h.value),Object(xt.a)(c)).find((function(t){return t.id===e.id}))},renderInput:function(e){return Object(ce.jsx)(ln.a,Object(m.a)(Object(m.a)({},e),{},{label:"".concat(n," ").concat(a),placeholder:i}))}}))},InputDatePicker:function(e){var t=e.label,n=Object(Ye.a)(e,ri),i=Object(zn.c)(n.name),r=Object(b.a)(i,2),a=r[0],o=r[1],s={};o&&o.touched&&o.error&&(s.error=!0,s.helperText=o.error);var c=Object(m.a)(Object(m.a)(Object(m.a)({},a),n),s);return Object(ce.jsx)(ln.a,Object(m.a)({label:t,type:"date",sx:{width:180},InputLabelProps:{shrink:!0}},c))},InputAutoComplete:function(e){var t=e.name,n=e.label,i=e.labelWithId,a=e.helperText,o=e.getOptions,s=e.disabledOptions,c=r.useState([]),l=Object(b.a)(c,2),d=l[0],u=l[1],p=Object(zn.c)(t),j=Object(b.a)(p,2),f=j[0],_=j[1],x=Object(zn.d)().setFieldValue,v=r.useState(""),O=Object(b.a)(v,2),y=O[0],g=O[1],w={};_&&_.touched&&_.error&&(w.error=!0,w.helperText=_.error);var S=function(e){return i?""!==e.id?"".concat(e.id," - ").concat(e.description):"":e.id},k=r.useMemo((function(){return ii()(function(){var e=Object($.a)(Q.a.mark((function e(t,n){var i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t.input);case 2:i=e.sent,n(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),200)}),[]);return r.useEffect((function(){var e=!0;if(""!==y&&" - "!==y)return k({input:y},(function(t){if(e){var n=[];f.value&&(n=[f.value]),t&&(n=[].concat(Object(xt.a)(n),Object(xt.a)(t))),u(n)}})),function(){e=!1};u(f.value?[f.value]:[])}),[f.value,y,k]),Object(ce.jsx)(Yn.a,Object(m.a)(Object(m.a)({id:t},f),{},{inputValue:y,getOptionLabel:S,filterOptions:function(e){return e},options:d,autoComplete:!0,filterSelectedOptions:!0,getOptionDisabled:function(e){return!!(null===s||void 0===s?void 0:s.find((function(t){return t.id===e.id})))},fullWidth:!0,multiple:!1,onChange:function(e,n){u(n?[n].concat(Object(xt.a)(d)):d),console.log("chamando o onchange pai"),x(t,n)},onInputChange:function(e,t){g(t)},renderInput:function(e){return Object(ce.jsx)(ln.a,Object(m.a)(Object(m.a)({},e),{},{label:n,fullWidth:!0,helperText:a},w))},renderOption:function(e,t){return Object(ce.jsx)("li",Object(m.a)(Object(m.a)({},e),{},{children:Object(ce.jsxs)(cn.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)(cn.a,{item:!0,children:Object(ce.jsx)(dt.a,{component:h.a,sx:{color:"text.secondary",mr:2}})}),Object(ce.jsx)(cn.a,{item:!0,xs:!0,children:Object(ce.jsx)(L.a,{variant:"body2",color:"text.secondary",children:S(t)})})]})}))}}))},CheckBoxAutoComplete:function(e){var t=e.name,n=e.labelWithId,i=e.getOptions,a=e.parentValue,o=r.useState(!1),s=Object(b.a)(o,2),c=s[0],l=s[1],d=r.useState([]),u=Object(b.a)(d,2),p=u[0],j=u[1],f=Object(zn.c)(t),h=Object(b.a)(f,2),_=h[0],x=h[1],v=Object(zn.d)().setFieldValue,O=r.useState(""),y=Object(b.a)(O,2),g=y[0],w=y[1],S={};x&&x.touched&&x.error&&(S.error=!0,S.helperText=x.error);var k=c&&0===p.length;return r.useEffect((function(){var e=!0;if(k)return Object($.a)(Q.a.mark((function t(){var n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=11;break}if(""!==a){t.next=6;break}j([]),l(!1),t.next=11;break;case 6:if(!i){t.next=11;break}return t.next=9,i(a||"");case 9:n=t.sent,j(Object(xt.a)(n));case 11:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[k]),r.useEffect((function(){c||j([])}),[c]),Object(ce.jsx)(Yn.a,Object(m.a)(Object(m.a)({fullWidth:!0,multiple:!0,id:t,onOpen:function(){l(!0)}},_),{},{onClose:function(){l(!1)},inputValue:g,onInputChange:function(e,t){w(t)},onChange:function(e,n){v(t,Object(xt.a)(n))},options:p,isOptionEqualToValue:function(e,t){return n&&e.id===t.id||e.description.toUpperCase()===t.description.toUpperCase()},disableCloseOnSelect:!0,getOptionLabel:function(e){return""===e.description?"":n?"".concat(e.id,"-").concat(e.description):e.description},renderOption:function(e,t,i){var r=i.selected;return Object(ce.jsxs)("li",Object(m.a)(Object(m.a)({},e),{},{children:[Object(ce.jsx)(jn.a,{icon:ei,checkedIcon:ti,style:{marginRight:8},checked:r}),n?"".concat(t.id,"-").concat(t.description):t.description]}))},renderInput:function(e){return Object(ce.jsx)(ln.a,Object(m.a)(Object(m.a)({},e),{},{label:"Rotinas",placeholder:"Rotinas"},S))}}))},CheckBoxAS400Access:function(e){var t=e.name,n=Object(zn.c)(t),i=Object(b.a)(n,1)[0],r=Object(zn.d)().setFieldValue,a=i.value,o=a.inc,s=a.exc,c=a.alt,l=a.con,d=function(e){var n=e.target.checked,a=Object(m.a)(Object(m.a)({},i.value),{},Object(j.a)({},e.target.name,n));a.inc||a.exc||a.alt||(a.con=!0),r(t,a)};return Object(ce.jsx)(Hn.a,{component:"fieldset",children:Object(ce.jsxs)(Jn.a,{"aria-label":"position",row:!0,children:[Object(ce.jsx)(fn.a,{value:"I",control:Object(ce.jsx)(jn.a,{size:"small",checked:o,onChange:d,name:"inc"}),label:"Inc",labelPlacement:"top",sx:{marginLeft:"4px",marginRight:"4px"}}),Object(ce.jsx)(fn.a,{value:"E",control:Object(ce.jsx)(jn.a,{size:"small",checked:s,onChange:d,name:"exc"}),label:"Exc",labelPlacement:"top",sx:{marginLeft:"4px",marginRight:"4px"}}),Object(ce.jsx)(fn.a,{value:"A",control:Object(ce.jsx)(jn.a,{size:"small",checked:c,onChange:d,name:"alt"}),label:"Alt",labelPlacement:"top",sx:{marginLeft:"4px",marginRight:"4px"}}),Object(ce.jsx)(fn.a,{value:"C",control:Object(ce.jsx)(jn.a,{size:"small",checked:l,onChange:d,name:"con"}),label:"Con",labelPlacement:"top",sx:{marginLeft:"4px",marginRight:"4px"}})]})})}},vi=xi,Oi="https://sasdev.maktubservicos.com.br/api";!function(e){e.AddProfile="06",e.ExcludeProfile="20",e.CreateUser="01",e.BlockUser="13",e.CopyUser="193"}(_i||(_i={}));var yi,gi=function(){var e=Object($.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{id:_i.AddProfile,description:"Libera\xe7\xe3o de Acesso"},{id:_i.ExcludeProfile,description:"Exclus\xe3o de Acesso"},{id:_i.CopyUser,description:"Duplica\xe7\xe3o de Acesso"}]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.New="S",e.Existent="N"}(yi||(yi={}));var wi=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Oi,"/as400/profiles"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,a=r.map((function(e){return{id:e.profile,description:e.profile}})).sort((function(e,t){return e.id-t.id})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Si=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Oi,"/as400/profiles/").concat(t),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ki=function(){var e=Object($.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{id:yi.New,description:"Sim"},{id:yi.Existent,description:"N\xe3o"}],e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ci=function(){var e=Object($.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{id:yi.New,description:"Sim"},{id:yi.Existent,description:"N\xe3o"}],e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qi=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Oi,"/as400/users/").concat(t),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ii=function(){var e=Object($.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{id:"BRCOIBB1",description:"Legado Citros Produ\xe7\xe3o"},{id:"BRCOIBB2",description:"Legado Citros Desenvolvimento"},{id:"BRCOISP1",description:"Produ\xe7\xe3o"},{id:"BRCOISP2",description:"Qualidade"},{id:"BRCOISP5",description:"Desenvolvimento"}],e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pi=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Oi,"/as400/systems"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ni=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Oi,"/as400/systems/").concat(t),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,a=r.routines.map((function(e){var t=e.routine_id,n=e.description,i=e.system_id,r=e.access_type,a=e.access_observation,o=e.limited_access,s=e.restricted_access;return{id:t,description:n,system_id:i,access_type:r.trim(),access_observation:a,limited_access:o,restricted_access:s}})).sort((function(e,t){return e.id-t.id})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ei=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Oi,"/as400/companies"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ai=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return n="".concat(Oi,"/as400/companies/").concat(t),e.next=4,fetch(n);case 4:return i=e.sent,e.next=7,i.json();case 7:return r=e.sent,a=r.branchs.map((function(e){return{id:e.id,description:e.branch_name}})).sort((function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)})),e.abrupt("return",a);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ti=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Oi,"/as400/regions"),e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,a=r.map((function(e){return{id:e.id,description:e.region_name}})).sort((function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wi=n(290),Di=n.n(Wi),Ri=n(146),Ui=n.n(Ri),Fi=n(291),Mi=n.n(Fi),Bi=n(292),Li=n.n(Bi),zi=[{field:"id",headerName:"ID",width:30},{field:"service_type",headerName:"Serv.",width:100},{field:"environment",headerName:"Ambiente",width:110},{field:"user_id",headerName:"User ID",width:130},{field:"system",headerName:"Sistema",width:130},{field:"routine",headerName:"Rotina",width:130},{field:"security_type",headerName:"Tipo Seg.",width:130},{field:"company",headerName:"empresa",minWidth:130,valueGetter:function(e){return"EF"===e.getValue(e.id,"security_type")?"".concat(e.getValue(e.id,"security_company")||""):"--"}},{field:"branch",headerName:"Filial",minWidth:130,valueGetter:function(e){return"EF"===e.getValue(e.id,"security_type")?"".concat(e.getValue(e.id,"security_branchs")||""):"--"}},{field:"region",headerName:"Regi\xe3o",minWidth:130,valueGetter:function(e){return"R"===e.getValue(e.id,"security_type")?"".concat(e.getValue(e.id,"security_regions")||""):"--"}},{field:"access",headerName:"Acesso",width:130},{field:"removeprofileaction",headerName:"",renderCell:function(){return Object(ce.jsx)(R.a,{variant:"contained",color:"error",startIcon:Object(ce.jsx)(Ui.a,{})})}}];function Vi(e){var t=e.selectionModel,n=e.removeProfile,i=e.updateProfile,a=e.addProfiles,o=Object(zn.d)(),s=o.values,c=o.setFieldValue,l=function(e){return!!e&&(""!==e.id&&""!==e)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Access",n=t.map((function(e){return parseInt(e.toString(),10)})),r=s.as400,a=r.company,o=r.branch,c=r.region,d=r.access;n&&("Security"===e?l(a)&&l(o)&&l(c)?i(n,a.id,[o.id],[c.id]):window.alert("Informe a empresa, filial e regi\xe3o"):i(n,void 0,void 0,void 0,d))};return r.useEffect((function(){console.log("mudou a empresa"),c("as400.branch",{id:"",description:""})}),[s.as400.company]),Object(ce.jsx)(_t.b,{children:Object(ce.jsx)(cn.a,{container:!0,justifyContent:"space-between",spacing:2,children:Object(ce.jsx)(cn.a,{item:!0,xs:12,children:Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:2,children:Object(ce.jsx)(vi.InputSelect,{name:"as400.company",label:"Empresa",labelWithId:!0,getOptions:Ei,editMode:!0})}),Object(ce.jsx)(cn.a,{item:!0,xs:2,children:Object(ce.jsx)(vi.InputSelect,{label:"Filial",name:"as400.branch",labelWithId:!0,getOptions:Ai,optionsPrimaryKey:s.as400.company.id,editMode:!0})}),Object(ce.jsx)(cn.a,{item:!0,xs:2,children:Object(ce.jsx)(vi.InputSelect,{name:"as400.region",label:"Regi\xe3o",labelWithId:!0,getOptions:Ti,editMode:!0})}),Object(ce.jsxs)(cn.a,{item:!0,sx:{paddingLeft:"20px"},children:[Object(ce.jsx)(vi.CheckBoxAS400Access,{name:"as400.access"}),Object(ce.jsx)(R.a,{onClick:function(){!function(){var e=s.as400,t=e.company,n=e.branch,i=e.region,r=e.access;l(t)&&l(n)&&l(i)?a(t.id,[n.id],[i.id],r):window.alert("Informe a empresa, filial e regi\xe3o")}()},variant:"contained",startIcon:Object(ce.jsx)(Di.a,{}),children:"Adicionar"}),Object(ce.jsx)(R.a,{onClick:function(){d("Security")},variant:"contained",startIcon:Object(ce.jsx)(Mi.a,{}),children:"Seguran\xe7a"}),Object(ce.jsx)(R.a,{onClick:function(){d()},variant:"contained",startIcon:Object(ce.jsx)(Li.a,{}),children:"Acesso"}),Object(ce.jsx)(R.a,{onClick:function(){!function(){var e=t.map((function(e){return parseInt(e.toString(),10)}));n(e)}()},variant:"contained",startIcon:Object(ce.jsx)(Ui.a,{}),children:"Remover"})]})]})})})})}function Gi(e){var t=e.rows,n=e.removeProfile,i=e.updateProfile,a=e.addProfiles,o=r.useState([]),s=Object(b.a)(o,2),c=s[0],l=s[1];return Object(ce.jsx)("div",{style:{height:450,width:"100%"},children:Object(ce.jsx)(_t.a,{rows:t,columns:zi,pageSize:100,rowsPerPageOptions:[5,10,30],checkboxSelection:!0,onCellClick:function(e){if("removeprofileaction"===e.colDef.field){var t=e.getValue(e.id,"id");t&&n([parseInt(t.toString(),10)])}return""},onSelectionModelChange:function(e){l(e)},selectionModel:c,components:{Toolbar:Vi},componentsProps:{toolbar:{selectionModel:c,removeProfile:n,updateProfile:i,addProfiles:a}}})})}function Xi(){var e,t,n,i,r,o,s,c,l=Object(zn.d)(),d=l.values,u=l.setFieldValue,p=d.as400,b=function(e){var t=e.inc?"S":"N",n=e.exc?"S":"N",i=e.alt?"S":"N";return"".concat(t," ").concat(n," ").concat(i)},m=function(){var e=Object($.a)(Q.a.mark((function e(t,n,i){var r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Si(p.job_position.id);case 2:r=e.sent,a=r.map((function(e,r){return{id:r,service_type:p.service_type.id,environment:p.environment.id,user_id:p.user_id.id,system:e.system_id,routine:e.routine_id,security_type:e.access_type,security_company:"XX"===e.company?t:e.company,security_branchs:"XXX"===e.branch?n:e.branch,security_regions:"XXX"===e.region?i:"",security_text:"",job_position:p.job_position.id,access:"".concat(e.inc).concat(e.exc).concat(e.alt)}})),console.log("new array"),console.log(a),u("as400.table",Object(xt.a)(a));case 7:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}();return a.a.useEffect((function(){var e;(null===(e=p.service_type)||void 0===e?void 0:e.id)===_i.ExcludeProfile&&u("as400.user_type",{id:"N",description:"N\xe3o"})}),[p.service_type]),a.a.useEffect((function(){u("as400.branch",{id:"",description:""})}),[p.company]),a.a.useEffect((function(){var e,t;"S"===(null===(e=p.user_type)||void 0===e?void 0:e.id)?u("as400.user_id",{id:"NovoUsuario",description:"Novo Usu\xe1rio"}):"NovoUsuario"===(null===(t=p.user_id)||void 0===t?void 0:t.id)&&u("as400.user_id",{id:"",description:""})}),[p.user_type]),Object(ce.jsxs)(cn.a,{container:!0,justifyContent:"space-between",spacing:2,children:[Object(ce.jsxs)(cn.a,{item:!0,xs:6,children:[Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:4,children:Object(ce.jsx)(vi.InputSelect,{name:"as400.service_type",label:"Servi\xe7o AS400",getOptions:gi,labelWithId:!0,editMode:!0})}),Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(vi.InputSelect,{name:"as400.environment",label:"Ambiente",labelWithId:!0,getOptions:Ii,editMode:!0})}),Object(ce.jsx)(cn.a,{item:!0,xs:2,children:Object(ce.jsx)(vi.InputSelect,{name:"as400.user_type",label:"Novo Usu\xe1rio",getOptions:Ci,labelWithId:!1,editMode:!0})})]}),(null===p||void 0===p||null===(e=p.service_type)||void 0===e?void 0:e.id)!==_i.CopyUser&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:2,children:Object(ce.jsx)(vi.InputSelect,{name:"as400.is_job_position",label:"Indicar Perfil",getOptions:ki,labelWithId:!1,editMode:!0})}),"S"===(null===(t=p.is_job_position)||void 0===t?void 0:t.id)&&Object(ce.jsx)(cn.a,{item:!0,xs:10,children:Object(ce.jsx)(vi.InputSelect,{name:"as400.job_position",label:"Perfil",getOptions:wi,labelWithId:!1,editMode:!0})}),"N"===(null===(n=p.is_job_position)||void 0===n?void 0:n.id)&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(cn.a,{item:!0,xs:10,children:Object(ce.jsx)(vi.InputSelect,{name:"as400.system",label:"Sistema",getOptions:Pi,labelWithId:!0,editMode:!0})})})]})})]}),Object(ce.jsxs)(cn.a,{item:!0,xs:6,children:[Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsxs)(cn.a,{item:!0,xs:6,children:["S"!==(null===p||void 0===p||null===(i=p.user_type)||void 0===i?void 0:i.id)&&Object(ce.jsx)(vi.InputAutoComplete,{label:"User Id",getOptions:qi,name:"as400.user_id",labelWithId:!0,helperText:""}),"S"===(null===p||void 0===p||null===(r=p.user_type)||void 0===r?void 0:r.id)&&Object(ce.jsx)(vi.InputText,{name:"as400.user_id",label:"User Id",fullWidth:!0,inputProps:{readOnly:!0}})]}),(null===(o=p.service_type)||void 0===o?void 0:o.id)===_i.CopyUser&&Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(vi.InputAutoComplete,{name:"as400.user_id_source",label:"User Id Origem",labelWithId:!0,getOptions:qi,helperText:"",disabledOptions:[p.user_id]})})]}),(null===(s=p.service_type)||void 0===s?void 0:s.id)!==_i.CopyUser&&"N"===(null===(c=p.is_job_position)||void 0===c?void 0:c.id)&&Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsx)(cn.a,{item:!0,xs:11,children:Object(ce.jsx)(vi.CheckBoxAutoComplete,{label:"Rotina",getOptions:Ni,name:"as400.routines",labelWithId:!0,helperText:"",parentValue:p.system.id})})})]}),(null===p||void 0===p?void 0:p.service_type)&&p.service_type.id!==_i.CopyUser&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(cn.a,{item:!0,xs:12,children:Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsx)(cn.a,{item:!0,xs:12,children:Object(ce.jsx)(Gi,{rows:p.table,removeProfile:function(e){var t=p.table.filter((function(t){return e.indexOf(t.id)<0}));t.map((function(e,t){return e.id=t+1,e})),u("as400.table",Object(xt.a)(t))},updateProfile:function(e,t,n,i,r){var a=p.table;a&&(console.log(e),console.log(a),e.forEach((function(e){console.log(e);var o=e-1;a[o].security_company=t||a[o].security_company,a[o].security_branchs=n||a[o].security_branchs,a[o].security_regions=i||a[o].security_regions,a[o].access=r?b(r):a[o].access}))),u("as400.table",a)},addProfiles:function(e,t,n,i){var r=p.service_type,a=p.environment,o=p.user_id,s=p.system,c=p.routines;if("S"===p.is_job_position.id)m(e,t,n);else{var l=null===c||void 0===c?void 0:c.map((function(c){return{id:0,service_type:r.id,environment:a.id,user_id:o.id,system:s.id,routine:c.id,security_type:c.access_type,security_company:e,security_branchs:t,security_regions:n,security_text:c.access_observation?c.access_observation:"",job_position:"",access:b(i)}})),d=[].concat(Object(xt.a)(p.table),Object(xt.a)(l));console.log(d);var j=Array.from(d.reduce((function(e,t){return e.set("".concat(t.system).concat(t.routine).concat(t.security_company).concat(t.security_branchs),t)}),new Map).values());j.sort((function(e,t){return e.routine-t.routine}));var f=j.map((function(e,t){return e.id=t+1,e}));u("as400.table",Object(xt.a)(f))}}})})})})})]})}var Hi=n(554),Ji=n(544),Ki=a.a.forwardRef((function(e,t){return Object(ce.jsx)(Hi.a,Object(m.a)({elevation:6,ref:t,variant:"filled"},e))}));function Zi(){var e=Object(zn.d)(),t=e.values,n=e.setFieldValue,i=e.status,r=t.request,o=t.as400;a.a.useEffect((function(){var e=function(){var e,t={requested_by_id:r.request_by?r.request_by:"",requested_by_name:r.request_by?r.request_by:"",requested_by_email:r.request_by?r.request_by:"",request_number:"",request_status:-1,request_type:"AS400",request_observation:r.request_observation,request_copy_list:"falta",employee_id:r.employee.id,employee_fullname:r.employee.description,employee_email:r.employee.email?r.employee.email:"",employee_type:r.employee_type?r.employee_type.id:"",employee_type_description:r.employee_type?r.employee_type.description:"",employee_profile_edition_rule:r.employee_profile_edition_rule,employee_role_id:r.employee_role?r.employee_role.id:"",employee_role_description:r.employee_role?r.employee_role.description:"",employee_plataform_id:r.employee_plataform?r.employee_plataform.id:"",employee_plataform_description:r.employee_plataform?r.employee_plataform.description:"",employee_costcenter_id:r.employee_costcenter?r.employee_costcenter.id:"",employee_costcenter_description:r.employee_costcenter?r.employee_costcenter.description:"",employee_company_id:r.employee_company?r.employee_company.id:"",employee_company_description:r.employee_company?r.employee_company.description:"",employee_branch_id:r.employee_branch?r.employee_branch.id:"",employee_branch_description:r.employee_branch?r.employee_branch.description:"",employe_manager_id:r.employee_manager?r.employee_manager.id:"",employee_manager_name:r.employee_manager?r.employee_manager.description:"",employee_login:r.employee_userid_login?r.employee_userid_login:"",employee_sap_id:r.employee_userid_sap?r.employee_userid_sap:"",employee_userid_sap_status:r.employee_userid_sap_status?r.employee_userid_sap_status:"",employee_userid_sap_expiration_date:r.employee_userid_sap_status?r.employee_userid_sap_status:"",employee_as400_id:"",employee_userid_as400_description:"",updateEmployee:!!r.updateEmployee&&r.updateEmployee},n={service_id:"",service_description:"",environment:"",is_new_user:!1,user_id:"",reused_user_id_license:"",observation:"",copy_user_id:"",copy_user_id_status:"-1"};if(o.service_type.id===_i.CopyUser)return n.environment=o.environment.id,n.is_new_user="S"===o.user_type.id,n.user_id=o.user_id.id,n.reused_user_id_license=o.user_licence,n.observation="",n.copy_user_id=o.user_id_source.id,n.copy_user_id_status="",n.service_id=_i.CopyUser,n.service_description="Duplica\xe7\xe3o de Acesso",{employee:t,user:n};"S"===o.user_type.id&&(n.environment=o.environment.id,n.is_new_user=!0,n.user_id=o.user_id.id,n.reused_user_id_license=o.user_licence,n.observation="",n.service_id=_i.CreateUser,n.service_description="Cria\xe7\xe3o de Usu\xe1rio");var i=null===(e=o.table)||void 0===e?void 0:e.map((function(e){return{service_id:e.service_type,service_description:e.service_type===_i.AddProfile?"Libera\xe7\xe3o de Acesso":"Exclus\xe3o de Acesso",environment:e.environment,is_new_user:n.is_new_user,user_id:e.user_id,system:e.system,routine:e.routine,access_type:e.security_type,access_observation:e.security_text,limited_access:!1,restricted_access:!1,access:e.access,company_id:"EF"===e.security_type?e.security_company:"",company_name:"EF"===e.security_type?e.security_company:"",branch_id:"EF"===e.security_type?e.security_branchs[0]:"",branch_name:"",region_id:"R"===e.security_type?e.security_regions[0]:"",region_name:"",job_position:e.job_position}}));return""===n.service_id?{employee:t,profiles:i}:{employee:t,user:n,profiles:i}}();n("data",e)}),[]);var s=Object(zn.c)("data"),c=Object(b.a)(s,1)[0],l=c.value?[c.value.user].concat(Object(xt.a)(c.value.profiles)):[];return Object(ce.jsxs)(Ji.a,{spacing:2,sx:{width:"100%",marginTop:"120px",alignContent:"center",justifyContent:"center",alignItems:"center"},children:[!i&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Ki,{severity:"info",children:"Clique em enviar para registrar sua solicita\xe7\xe3o"}),c.value&&Object(ce.jsx)(sn,{rows:l.map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{id:t})}))})]}),i&&(null===i||void 0===i?void 0:i.isError)&&Object(ce.jsx)(Ki,{severity:"error",children:i.error}),i&&!(null===i||void 0===i?void 0:i.isError)&&Object(ce.jsxs)(Ki,{severity:"success",children:["Solicita\xe7\xe3o criada com sucesso: ",i.data.request_number]})]})}var Qi=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,i,r,a,o,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={is_contingency:!1,employee_profile_edition_rule:"ALL",employee_role:null,employee_plataform:null,employee_costcenter:null,request_category:null,employee_type:null,employee_manager:null,employee_company:null,employee_branch:null,employee:{id:"",description:"",email:""},updateEmployee:!1,has_sap_job_positions:!1,employee_sap_job_positions:[],employee_userid_login:"",employee_userid_as400:{id:"",description:""},employee_userid_sap:"",employee_userid_sap_status:"",employee_userid_sap_expiration_date:""},t){e.next=3;break}return e.abrupt("return",n);case 3:return i="".concat("https://sasdev.maktubservicos.com.br/api","/employees/").concat(t),console.log(i),e.next=7,fetch(i);case 7:return r=e.sent,e.next=10,r.json();case 10:if(!(a=e.sent)){e.next=23;break}if(o={is_contingency:a.is_contingency,updateEmployee:!1,employee:{id:a.employee_id,description:a.employee_fullname,email:a.employee_email},employee_profile_edition_rule:a.employee_profile_edition_rule,employee_type:a.employee_type?{id:a.employee_type,description:a.employee_type}:null,employee_manager:a.manager?{id:a.manager.id,description:a.manager.fullname}:null,employee_role:a.role?{id:a.role.id,description:a.role.description}:null,employee_plataform:a.plataform?{id:a.plataform.id,description:a.plataform.description}:null,employee_costcenter:a.costCenter?{id:a.costCenter.id,description:a.costCenter.description}:null,employee_company:a.company?{id:a.company.id,description:a.company.description}:null,employee_branch:a.branch?{id:a.branch.id,description:a.branch.description}:null,employee_userid_login:a.employee_login,employee_userid_as400:a.as400User?{id:a.as400User.id,description:a.as400User.user_name}:{id:"",description:""},employee_userid_sap:a.employee_sap_id,employee_userid_sap_status:a.employee_sap_id_status,employee_userid_sap_expiration_date:a.employee_sap_id_expiration_date,employee_sap_job_positions:[],has_sap_job_positions:!1},console.log("procurando jobpositions"),!a.costCenter||!a.manager){e.next=22;break}return e.next=17,bi(a.manager.id,a.costCenter.id);case 17:s=e.sent,console.log("pegou jobpostions"),console.log(s),o.employee_sap_job_positions=s,o.has_sap_job_positions=!!s[0];case 22:return e.abrupt("return",o);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function $i(){var e=Object(zn.d)(),t=e.values,n=e.setValues,i=t.request,r=function(){var e=i.employee_profile_edition_rule;return"ALL"===e||(!!i.is_contingency||"NONE"!==e&&"ERROR"===e)};return a.a.useEffect((function(){function e(){return e=Object($.a)(Q.a.mark((function e(i){var r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loading new values ".concat(i)),e.next=3,Qi(i);case 3:r=e.sent,console.log(r),a=Object(m.a)(Object(m.a)({},t),{},{request:Object(m.a)(Object(m.a)({},t.request),r)}),n(a,!0);case 7:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}var r=i.employee?i.employee.id:"";i.updateEmployee&&function(t){e.apply(this,arguments)}(r)}),[i.updateEmployee]),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(cn.a,{container:!0,justifyContent:"space-between",spacing:2,children:[Object(ce.jsxs)(cn.a,{item:!0,xs:6,children:[Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsxs)(cn.a,{item:!0,xs:8,children:[Object(ce.jsx)(vi.InputText,{name:"request.request_by",label:"Solicitante",fullWidth:!0,inputProps:{readOnly:!0}}),Object(ce.jsx)(vi.InputEmployee,{name:"request.employee",label:"Colaborador",labelWithId:!1,helperText:"Digite o nome do colaborador",getOptions:Ct,setLabelOption:It,setLabelHintOptions:Pt})]}),Object(ce.jsxs)(cn.a,{item:!0,xs:4,children:[Object(ce.jsx)(vi.InputText,{name:"request.request_date",label:"Data da solicita\xe7\xe3o",fullWidth:!1,inputProps:{readOnly:!0}}),Object(ce.jsx)(vi.InputSelect,{name:"request.employee_type",label:"Tipo",getOptions:kt,labelWithId:!1,editMode:r()})]})]}),Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(vi.InputSelect,{name:"request.employee_role",label:"Cargo",labelWithId:!0,getOptions:gt,editMode:r()})}),Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(vi.InputSelect,{name:"request.employee_costcenter",label:"Centro de Custo",labelWithId:!0,getOptions:St,editMode:r()})})]}),Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(vi.InputSelect,{name:"request.employee_manager",label:"Gestor",labelWithId:!1,getOptions:qt,editMode:function(){var e=i.employee_profile_edition_rule;return"ALL"===e||("MANAGER"===e||(!!i.is_contingency||"ERROR"===e))}()})})})]}),Object(ce.jsxs)(cn.a,{item:!0,xs:6,children:[Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsxs)(cn.a,{item:!0,xs:12,children:[Object(ce.jsx)(vi.InputText,{name:"request.request_number",label:"N\xfamero",fullWidth:!1,inputProps:{readOnly:!0}}),Object(ce.jsx)(vi.InputText,{name:"request.request_status",label:"Status",fullWidth:!1,inputProps:{readOnly:!0}})]})}),Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(vi.InputEmployee,{name:"request.employee",label:"Email",getOptions:Ct,labelWithId:!1,helperText:"Digite um email",setLabelOption:Nt,setLabelHintOptions:Et})}),Object(ce.jsx)(cn.a,{item:!0,xs:4,children:Object(ce.jsx)(vi.InputSelect,{name:"request.employee_plataform",label:"Plataforma",labelWithId:!1,getOptions:wt,editMode:r()})})]}),Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:4,children:Object(ce.jsx)(vi.InputSelect,{name:"request.employee_company",label:"Empresa",labelWithId:!0,getOptions:Ot,onChangeCleanFieldName:"employee_branch",editMode:r()})}),Object(ce.jsx)(cn.a,{item:!0,xs:7,children:Object(ce.jsx)(vi.InputSelect,{name:"request.employee_branch",label:"Filial",labelWithId:!0,getOptions:yt,optionsPrimaryKey:i.employee_company?i.employee_company.id:void 0,editMode:r()})})]}),Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsx)(cn.a,{item:!0,xs:11,children:Object(ce.jsx)(vi.InputText,{name:"request.request_observation",label:"Observa\xe7\xe3o",multiline:!0,maxRows:4,fullWidth:!0,inputProps:{readOnly:!1}})})})]})]})})}var Yi=n(13),er=Yi.f().shape({id:Yi.g().default("").ensure(),description:Yi.g().default("").ensure()}).default({id:"",description:""}),tr=function(e,t){return er.test(e,t,(function(e){return!!e&&!!e.id}))},nr=Yi.f().shape({id:Yi.g().default(""),description:Yi.g().default("")}).default({id:"",description:""}),ir={id:"0",request_by:"Darcio Santos",request_status:"Rascunho",request_date:new Date,request_number:"--",request_opentab:0,request_observation:"",is_contingency:!1,employee_profile_edition_rule:"ALL",employee_role:{id:"",description:""},employee_plataform:{id:"",description:""},employee_costcenter:{id:"",description:""},request_category:{id:"",description:""},employee_type:{id:"",description:""},employee_manager:{id:"",description:""},employee_company:{id:"",description:""},employee_branch:{id:"",description:""},employee:{id:"",description:"",email:""},updateEmployee:!1,has_sap_job_positions:!1,employee_sap_job_positions:[],employee_userid_login:"",employee_userid_as400:{id:"",description:""},employee_userid_sap:"",employee_userid_sap_status:"",employee_userid_sap_expiration_date:""},rr={request:ir,sap:{environment:{id:"ECC",description:"ECC-Produ\xe7\xe3o"},service_type:{id:"",description:""},user_type:{id:"",description:""},user_id:{id:"",description:""},user_licence:"",is_job_position:!1,job_position:{id:"",description:""},is_temporary:{id:"",description:""},profile_type:{id:"",description:""},profile_start_date:"",profile_end_date:"",profiles:[],profiles_table:[]}},ar={request:ir,as400:{environment:{id:"BRCOISP1",description:"Produ\xe7\xe3o"},service_type:{id:"",description:""},user_type:{id:"N",description:"N\xe3o"},user_licence:"",user_id:{id:"",description:""},user_id_source:{id:"",description:""},is_job_position:{id:"N",description:"N\xe3o"},job_position:{id:"",description:""},system:{id:"",description:""},routines:[],company:{id:"",description:""},branch:{id:"",description:""},region:{id:"",description:""},access:{inc:!0,exc:!0,alt:!0,con:!0},table:[]}},or=Yi.f().shape({id:Yi.g().required("Campo obrigat\xf3rio"),request_by:Yi.g().default("").optional(),request_status:Yi.g().default("").optional(),request_date:Yi.c().optional(),request_number:Yi.g().required(),request_opentab:Yi.e().required(),request_observation:Yi.g().default("").optional(),request_category:Yi.f().shape({id:Yi.g(),description:Yi.g()}).nullable().optional(),is_contingency:Yi.b().required(""),employee_profile_edition_rule:Yi.g().required(""),employee_role:Yi.f().shape({id:Yi.g(),description:Yi.g()}).nullable().test("employee_role","Selecione um cargo",(function(e){return!!(null===e||void 0===e?void 0:e.id)})),employee_plataform:Yi.f().shape({id:Yi.g(),description:Yi.g()}).nullable().test("employee_plataform","Selecione uma plataforma",(function(e){return!!(null===e||void 0===e?void 0:e.id)})),employee_costcenter:Yi.f().shape({id:Yi.g(),description:Yi.g()}).nullable().test("employee_costcenter","Selecione um centro de custo",(function(e){return!!(null===e||void 0===e?void 0:e.id)})),employee_type:Yi.f().shape({id:Yi.g(),description:Yi.g()}).nullable().test("employee_type","Selecione um tipo de colaborador",(function(e){return!!(null===e||void 0===e?void 0:e.id)})),employee_manager:Yi.f().shape({id:Yi.g(),description:Yi.g()}).nullable().test("manager","Please select a manager",(function(e){return!!(null===e||void 0===e?void 0:e.id)})),employee_company:Yi.f().shape({id:Yi.g(),description:Yi.g()}).nullable().test("employee_company","Selecione uma empresa",(function(e){return!!(null===e||void 0===e?void 0:e.id)})),employee_branch:Yi.f().shape({id:Yi.g(),description:Yi.g()}).nullable().test("employee_branch","Selecione uma filial",(function(e){return!!(null===e||void 0===e?void 0:e.id)})),employee:Yi.f().shape({id:Yi.g(),description:Yi.g(),email:Yi.g()}).nullable().test("employee","Selecione um colaborador",(function(e){return!!(null===e||void 0===e?void 0:e.id)})),updateEmployee:Yi.b(),has_sap_job_positions:Yi.b().default(!1),employee_sap_job_positions:Yi.a().optional().nullable(),employee_userid_login:Yi.g().optional().nullable(),employee_userid_sap:Yi.g().default("").optional(),employee_userid_sap_status:Yi.g().default("").optional(),employee_userid_sap_expiration_date:Yi.g().default("").optional(),employee_userid_as400:Yi.f().shape({id:Yi.g(),description:Yi.g()}).nullable().optional()}),sr=Yi.f().shape({environment:tr("environment","Please select a SAP environment").nullable(),service_type:tr("service_type","Please select a service type").nullable(),user_type:tr("user_type","Please select a user type").nullable(),user_id:tr("user_id","Please select a user id").nullable(),user_licence:Yi.g().default("").when(["environment","user_type"],(function(e,t){return"ECC"===(null===e||void 0===e?void 0:e.id)&&"S"===t.id?Yi.g().required("Camo obrigat\xf3rio").test("user_licencse","digite uma licen\xe7a",(function(e){return""!==e})):Yi.g().optional()})),is_job_position:Yi.b().default(!1).optional(),profile_type:tr("profile_type","Defina o tipo de perfil"),job_position:nr.when("profile_type",(function(e){return"1"!==e.id?nr.test("usertype","Please select the jobposition type",(function(e){return!!e&&!!e.id})):nr.optional()})),is_temporary:tr("is_temporary","Campo Obrigat\xf3rio").nullable(),profile_start_date:Yi.g().default("").when(["service_type","is_temporary"],(function(e,t){return"S"===(null===t||void 0===t?void 0:t.id)&&"24"===e.id?(console.log("testando"),Yi.g().test("profile_start_date","Please select the initial date",(function(e){return console.log(e),!!e&&""!==e}))):Yi.g().optional()})),profile_end_date:Yi.d().when(["service_type","is_temporary"],(function(e,t){return"S"===(null===t||void 0===t?void 0:t.id)&&"24"===e.id?Yi.g().test("profile_start_date","Please select the initial date",(function(e){return console.log(e),!!e&&""!==e})):Yi.g().optional()})),profiles:Yi.a().notRequired(),profiles_table:Yi.a().notRequired()}),cr=Yi.f().shape({environment:tr("environment","Campo obrigat\xf3rio").nullable(),service_type:tr("service_type","Campo Obrigat\xf3rio").nullable(),user_type:tr("user_type","Campo Obrigat\xf3rio").nullable(),user_id:tr("user_id","Campo Obrigat\xf3rio").nullable(),user_licence:Yi.g().default("").optional(),user_id_source:nr.when("service_type",(function(e){return"193"===(null===e||void 0===e?void 0:e.id)?(console.log("Validando"),tr("user_id_source","Selecione um usu\xe1rio base")):nr.optional()})),is_job_position:tr("is_job_position","Campo obrigat\xf3rio").nullable(),job_position:nr.when("is_job_position",(function(e){return"S"===e.id?nr.test("usertype","Selecione um perfil",(function(e){return!!e&&!!e.id})):nr.optional()})),system:nr.required(),routines:Yi.a().default([]).notRequired(),company:nr.optional(),branch:nr.optional(),region:nr.optional(),access:nr.optional(),table:Yi.a(Yi.f({id:Yi.e().default(0).optional(),service_type:Yi.g().default("").optional(),environment:Yi.g().default("").optional(),user_id:Yi.g().default("").optional(),system:Yi.g().default("").optional(),routine:Yi.g().default("").optional(),security_type:Yi.g().default("").optional(),security_company:Yi.g().default("").optional(),security_branchs:Yi.a().default([]).optional(),security_regions:Yi.a().default([]).optional(),security_text:Yi.g().default("").optional(),job_position:nr.optional(),access:Yi.g().default("").optional(),inc:Yi.b().default(!1).optional(),exc:Yi.b().default(!1).optional(),alt:Yi.b().default(!1).optional(),con:Yi.b().default(!1).optional()})).default([]).when("service_type",(function(e){return"06"===(null===e||void 0===e?void 0:e.id)||"20"===(null===e||void 0===e?void 0:e.id)?Yi.a().min(1,"Indique ao menos uma transa\xe7\xe3o"):Yi.a().optional()}))}),lr=Yi.f().shape({request:or}),dr=Yi.f().shape({sap:sr}),ur=Yi.f().shape({as400:cr}),pr=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function br(){return Object(ce.jsx)(dt.a,{sx:{marginTop:"4px","& .MuiTextField-root":{m:1,minWidth:"30px"},"& .MuiInputBase-root":{m:1,minWidth:"30px"},"& .MuiDataGrid-root":{m:1,minWidth:"30px"}},children:Object(ce.jsxs)(Xn,{initialValues:Object(m.a)({},ar),onSubmit:function(){var e=Object($.a)(Q.a.mark((function e(t,n){var i,r,a,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pr(3e3);case 3:return console.log("values",t.data),i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.data)},e.next=7,fetch("http://localhost:3333/requests/as400",i);case 7:return r=e.sent,e.next=10,r.json();case 10:a=e.sent,r.ok?n.setStatus({isError:!1,data:a}):(o=a&&a.message||r.status,n.setStatus({isError:!0,error:o})),n.setSubmitting(!1),console.log(a),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),children:[Object(ce.jsx)(Gn,{label:"dados do colaborador",validationSchema:lr,children:Object(ce.jsx)($i,{})}),Object(ce.jsx)(Gn,{label:"servi\xe7o AS400",validationSchema:ur,children:Object(ce.jsx)(Xi,{})}),Object(ce.jsx)(Gn,{label:"Fim",children:Object(ce.jsx)(Zi,{})})]})})}var mr=[{field:"id",headerName:"ID",width:30},{field:"environment",headerName:"Ambiente",width:90},{field:"service_id",headerName:"Tipo Servi\xe7o",width:130},{field:"user_id",headerName:"User ID",width:130},{field:"profile_type",headerName:"Tipo Perfil",width:90},{field:"is_temporary",headerName:"Tempor\xe1rio",sortable:!0,width:30},{field:"profile",headerName:"Perfil",sortable:!0,width:400},{field:"profile_description",headerName:"Descri\xe7\xe3o",sortable:!0,width:400},{field:"removeprofileaction",headerName:"",renderCell:function(){return Object(ce.jsx)(R.a,{variant:"contained",color:"error",startIcon:Object(ce.jsx)(Ui.a,{})})}}];function jr(e){var t=e.rows,n=e.removeProfile;return Object(ce.jsx)("div",{style:{height:400,width:"100%"},children:Object(ce.jsx)(_t.a,{rows:t,columns:mr,pageSize:100,rowsPerPageOptions:[5,10,30],checkboxSelection:!1,onCellClick:function(e){if("removeprofileaction"===e.colDef.field){var t=e.getValue(e.id,"id");t&&n(parseInt(t.toString(),10))}return""}})})}function fr(){var e,t,n,i,r,o,s,c,l,d,u,p,b=Object(zn.d)(),m=b.values,j=b.setFieldValue,f=b.isValid,h=m.request,_=m.sap;return a.a.useEffect((function(){if(!h.updateEmployee){var e,t,n=h.employee_userid_sap,i={id:"",description:""},r={id:"",description:""},a={id:"",description:""};if("ECC"===(null===_||void 0===_||null===(e=_.environment)||void 0===e?void 0:e.id))console.log("environement = ECC"),(null===(t=h.employee)||void 0===t?void 0:t.id)&&n?(a.id=h.employee_userid_sap||"",a.description=h.employee.description||"",i.id="Ativo"===h.employee_userid_sap_status?"N":"D",i.description="Ativo"===h.employee_userid_sap_status?"Existente":"Desbloqueio"):(i.id="S",i.description="Novo Usu\xe1rio",r.id="",r.description="",a.id="NovoUsuario",a.description="Novo Usu\xe1rio");else i.id="",i.description="",a.id=h.employee_userid_sap||"",a.description=h.employee.description||"";j("sap.user_type",i),j("sap.service_type",r),j("sap.user_id",a),j("sap.profile_type",{id:"1",description:"Outros"}),j("sap.is_temporary",{id:"N",description:"N\xe3o"}),j("sap.profiles",[]),j("sap.profiles_table",[])}}),[null===_||void 0===_?void 0:_.environment,h.updateEmployee]),a.a.useEffect((function(){var e;if("ECC"!==(null===_||void 0===_||null===(e=_.environment)||void 0===e?void 0:e.id)){var t,n={id:"",description:""};"S"===(null===_||void 0===_||null===(t=_.user_type)||void 0===t?void 0:t.id)?(n.description="Novo Usu\xe1rio",n.id="NovoUsuario"):(n.id=h.employee_userid_sap||"",n.description=h.employee.description||""),j("sap.user_id",n),j("sap.profiles",[]),j("sap.profiles_table",[])}}),[null===_||void 0===_?void 0:_.user_type]),a.a.useEffect((function(){j("sap.profiles",[])}),[null===_||void 0===_?void 0:_.service_type]),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(cn.a,{container:!0,justifyContent:"space-between",spacing:2,children:[Object(ce.jsxs)(cn.a,{item:!0,xs:6,children:[Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:4,children:Object(ce.jsx)(vi.InputSelect,{name:"sap.environment",label:"Ambiente SAP",labelWithId:!1,getOptions:ci,editMode:!0})}),Object(ce.jsx)(cn.a,{item:!0,xs:8,children:Object(ce.jsx)(vi.InputSelect,{name:"sap.service_type",label:"Tipo Servi\xe7o",labelWithId:!0,getOptions:di,optionsPrimaryKey:_&&_.environment&&_.user_type&&"ECC"===_.environment.id?_.user_type.id:"",editMode:!0})})]}),(null===_||void 0===_?void 0:_.service_type)&&_.service_type.id===oi.AddProfile&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:3,children:Object(ce.jsx)(vi.InputSelect,{name:"sap.profile_type",label:"Tipo Perfil",labelWithId:!1,getOptions:ui,editMode:h.has_sap_job_positions})}),(null===_||void 0===_?void 0:_.profile_type)&&"2"===_.profile_type.id&&Object(ce.jsx)(cn.a,{item:!0,xs:4,children:Object(ce.jsx)(vi.InputSelect,{name:"sap.job_position",label:"Job Position",labelWithId:!1,defaultOptions:void 0,editMode:!0})}),(null===_||void 0===_?void 0:_.profile_type)&&"2"!==(null===_||void 0===_||null===(e=_.profile_type)||void 0===e?void 0:e.id)&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(cn.a,{item:!0,xs:2,children:Object(ce.jsx)(vi.InputSelect,{name:"sap.is_temporary",label:"Tempor\xe1rio",labelWithId:!1,getOptions:mi,editMode:!0})})}),(null===_||void 0===_?void 0:_.profile_type)&&_.is_temporary&&"2"!==_.profile_type.id&&"S"===_.is_temporary.id&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(cn.a,{item:!0,xs:3,children:Object(ce.jsx)(vi.InputDatePicker,{label:"De",name:"sap.profile_start_date"})}),Object(ce.jsx)(cn.a,{item:!0,xs:2,children:Object(ce.jsx)(vi.InputDatePicker,{label:"At\xe9",name:"sap.profile_end_date"})})]})]})}),(null===_||void 0===_?void 0:_.profile_type)&&(null===_||void 0===_?void 0:_.service_type)&&"2"!==_.profile_type.id&&(_.service_type.id===oi.AddProfile||_.service_type.id===oi.ExcludeProfile)&&f&&Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsx)(cn.a,{item:!0,xs:12,children:Object(ce.jsx)(vi.InputSAPProfiles,{name:"sap.profiles",label:"Perfil",placeHolder:"Digite a descri\xe7\xe3o ou c\xf3digo de um perfil",parentValue:(null===_||void 0===_||null===(t=_.environment)||void 0===t?void 0:t.id)||"",editMode:!0,addToTable:!0,handleProfileChange:function(e){var t,n=e.map((function(e){var t,n,i,r,a,o,s,c,l,d,u,p,b,j,f,h,_,x,v,O,y,g;return{id:0,environment:null===m||void 0===m||null===(t=m.sap)||void 0===t||null===(n=t.environment)||void 0===n?void 0:n.id,service_id:null===m||void 0===m||null===(i=m.sap)||void 0===i||null===(r=i.service_type)||void 0===r?void 0:r.id,service_description:null===m||void 0===m||null===(a=m.sap)||void 0===a||null===(o=a.service_type)||void 0===o?void 0:o.description,user_id:null===m||void 0===m||null===(s=m.sap)||void 0===s||null===(c=s.user_id)||void 0===c?void 0:c.id,profile:e.id,profile_description:e.description,profile_type:null===m||void 0===m||null===(l=m.sap)||void 0===l||null===(d=l.profile_type)||void 0===d?void 0:d.description,job_position:"2"===(null===m||void 0===m||null===(u=m.sap)||void 0===u||null===(p=u.profile_type)||void 0===p?void 0:p.id)?"":null===m||void 0===m||null===(b=m.sap)||void 0===b||null===(j=b.job_position)||void 0===j?void 0:j.id,is_temporary:"S"===(null===m||void 0===m||null===(f=m.sap)||void 0===f||null===(h=f.is_temporary)||void 0===h?void 0:h.id),profile_start_date:"S"===(null===(_=m.sap)||void 0===_||null===(x=_.is_temporary)||void 0===x?void 0:x.id)?null===m||void 0===m||null===(v=m.sap)||void 0===v?void 0:v.profile_start_date:"",profile_end_date:"S"===(null===(O=m.sap)||void 0===O||null===(y=O.is_temporary)||void 0===y?void 0:y.id)?null===m||void 0===m||null===(g=m.sap)||void 0===g?void 0:g.profile_end_date:""}})),i=(null===m||void 0===m||null===(t=m.sap)||void 0===t?void 0:t.profiles_table)?[].concat(Object(xt.a)(m.sap.profiles_table),Object(xt.a)(n)):Object(xt.a)(n),r=Array.from(i.reduce((function(e,t){return e.set(t.profile,t)}),new Map).values()).map((function(e,t){return e.id=t+1,e}));j("sap.profiles_table",r)},disabledOptions:_.profiles_table?null===(n=_.profiles_table)||void 0===n?void 0:n.map((function(e){return{id:e.profile,description:e.profile_description,email:""}})):[]})})})]}),Object(ce.jsxs)(cn.a,{item:!0,xs:6,children:[Object(ce.jsxs)(cn.a,{container:!0,spacing:1,children:[Object(ce.jsx)(cn.a,{item:!0,xs:3,children:Object(ce.jsx)(vi.InputSelect,{name:"sap.user_type",label:"Usuario",labelWithId:!1,getOptions:li,optionsPrimaryKey:null===_||void 0===_||null===(i=_.service_type)||void 0===i?void 0:i.id,editMode:"ECC"!==(null===_||void 0===_||null===(r=_.environment)||void 0===r?void 0:r.id)})}),Object(ce.jsx)(cn.a,{item:!0,xs:8,children:Object(ce.jsx)(vi.InputSelect,{name:"sap.user_id",label:"User ID",labelWithId:!0,getOptions:pi,optionsPrimaryKey:null===_||void 0===_||null===(o=_.environment)||void 0===o?void 0:o.id,editMode:"ECC"!==(null===_||void 0===_||null===(s=_.environment)||void 0===s?void 0:s.id)&&"S"!==(null===_||void 0===_||null===(c=_.user_type)||void 0===c?void 0:c.id)})})]}),"ECC"===(null===_||void 0===_||null===(l=_.environment)||void 0===l?void 0:l.id)&&"S"===(null===_||void 0===_||null===(d=_.user_type)||void 0===d?void 0:d.id)&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsx)(cn.a,{item:!0,xs:6,children:Object(ce.jsx)(vi.InputText,{name:"sap.user_licence",label:"Reutilizar licen\xe7a",fullWidth:!0,inputProps:{readOnly:!1}})})})})]}),((null===_||void 0===_||null===(u=_.service_type)||void 0===u?void 0:u.id)===oi.AddProfile||(null===_||void 0===_||null===(p=_.service_type)||void 0===p?void 0:p.id)===oi.ExcludeProfile)&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(cn.a,{item:!0,xs:12,children:Object(ce.jsx)(cn.a,{container:!0,spacing:1,children:Object(ce.jsx)(cn.a,{item:!0,xs:12,children:Object(ce.jsx)(jr,{rows:null===_||void 0===_?void 0:_.profiles_table,removeProfile:function(e){var t;if(null===m||void 0===m||null===(t=m.sap)||void 0===t?void 0:t.profiles_table){var n,i=Object(xt.a)(null===m||void 0===m||null===(n=m.sap)||void 0===n?void 0:n.profiles_table),r=i.find((function(t){return t.id===e})),a=i.filter((function(t){return t.id!==e}));if(a.map((function(e,t){return e.id=t+1,e})),j("sap.profiles_table",a),m.sap.profiles&&r){var o=Object(xt.a)(m.sap.profiles).filter((function(e){return e.id!==r.profile}));j("sap.profiles",o)}}}})})})})})]})})}var hr=a.a.forwardRef((function(e,t){return Object(ce.jsx)(Hi.a,Object(m.a)({elevation:6,ref:t,variant:"filled"},e))}));function _r(){var e=Object(zn.d)(),t=e.values,n=e.setFieldValue,i=e.status,r=t.request,o=t.sap;return a.a.useEffect((function(){var e=function(){var e,t={requested_by_id:r.request_by?r.request_by:"",requested_by_name:r.request_by?r.request_by:"",requested_by_email:r.request_by?r.request_by:"",request_number:"",request_status:-1,request_type:"SAP",request_observation:r.request_observation,request_copy_list:"falta",employee_id:r.employee.id,employee_fullname:r.employee.description,employee_email:r.employee.email?r.employee.email:"",employee_type:r.employee_type?r.employee_type.id:"",employee_type_description:r.employee_type?r.employee_type.description:"",employee_profile_edition_rule:r.employee_profile_edition_rule,employee_role_id:r.employee_role?r.employee_role.id:"",employee_role_description:r.employee_role?r.employee_role.description:"",employee_plataform_id:r.employee_plataform?r.employee_plataform.id:"",employee_plataform_description:r.employee_plataform?r.employee_plataform.description:"",employee_costcenter_id:r.employee_costcenter?r.employee_costcenter.id:"",employee_costcenter_description:r.employee_costcenter?r.employee_costcenter.description:"",employee_company_id:r.employee_company?r.employee_company.id:"",employee_company_description:r.employee_company?r.employee_company.description:"",employee_branch_id:r.employee_branch?r.employee_branch.id:"",employee_branch_description:r.employee_branch?r.employee_branch.description:"",employe_manager_id:r.employee_manager?r.employee_manager.id:"",employee_manager_name:r.employee_manager?r.employee_manager.description:"",employee_login:r.employee_userid_login?r.employee_userid_login:"",employee_sap_id:r.employee_userid_sap?r.employee_userid_sap:"",employee_userid_sap_status:r.employee_userid_sap_status?r.employee_userid_sap_status:"",employee_userid_sap_expiration_date:r.employee_userid_sap_status?r.employee_userid_sap_status:"",employee_as400_id:"",employee_userid_as400_description:"",updateEmployee:!!r.updateEmployee&&r.updateEmployee},n={service_id:"",service_description:"",environment:"",is_new_user:!1,user_id:"",reused_user_id_license:"",observation:""};if(o.service_type.id===oi.BlockUser)return n.service_id=oi.BlockUser,n.service_description="Bloqueio de Usu\xe1rio",n.environment=o.environment.id,n.is_new_user=!1,n.user_id=o.user_id.id,n.reused_user_id_license=o.user_licence,n.observation="",{employee:t,user:n};"S"===o.user_type.id&&(n.service_id=oi.CreateUser,n.environment=o.environment.id,n.service_description="Cria\xe7\xe3o de Usu\xe1rio",n.is_new_user=!0,n.user_id=o.user_id.id,n.reused_user_id_license=o.user_licence,n.observation=""),"D"===o.user_type.id&&(n.service_id=oi.UnBlockUser,n.service_description="Desbloqueio de Usu\xe1rio",n.environment=o.environment.id,n.is_new_user=!1,n.user_id=o.user_id.id,n.reused_user_id_license=o.user_licence,n.observation="");var i=null===(e=o.profiles_table)||void 0===e?void 0:e.map((function(e){return{service_id:e.service_id,service_description:e.service_description,environment:e.environment,is_new_user:n.is_new_user,user_id:e.user_id,is_job_postion:""!==e.job_position,job_position:e.job_position,profile_name:e.profile,profile_description:e.profile_description,is_profile_temporary:e.is_temporary,profile_valide_at:new Date(e.profile_start_date),profile_expires_at:new Date(e.profile_end_date),has_conflict:!1,restricted_access:!1}}));return""===n.service_id?{employee:t,profiles:i}:{employee:t,user:n,profiles:i}}();n("data",e)}),[]),Object(ce.jsxs)(Ji.a,{spacing:2,sx:{width:"100%",marginTop:"120px",alignContent:"center",justifyContent:"center",alignItems:"center"},children:[!i&&Object(ce.jsx)(hr,{severity:"info",children:"Clique em enviar para registrar sua solicita\xe7\xe3o"}),i&&(null===i||void 0===i?void 0:i.isError)&&Object(ce.jsx)(hr,{severity:"error",children:i.error}),i&&!(null===i||void 0===i?void 0:i.isError)&&Object(ce.jsxs)(hr,{severity:"success",children:["Solicita\xe7\xe3o criada com sucesso: ",i.data.request_number]})]})}var xr=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function vr(){return Object(ce.jsx)(dt.a,{sx:{marginTop:"4px","& .MuiTextField-root":{m:1,minWidth:"30px"},"& .MuiInputBase-root":{m:1,minWidth:"30px"},"& .MuiDataGrid-root":{m:1,minWidth:"30px"}},children:Object(ce.jsxs)(Xn,{initialValues:Object(m.a)({},rr),onSubmit:function(){var e=Object($.a)(Q.a.mark((function e(t,n){var i,r,a,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xr(3e3);case 3:return console.log("values",t.data),i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.data)},e.next=7,fetch("http://localhost:3333/requests/sap",i);case 7:return r=e.sent,e.next=10,r.json();case 10:a=e.sent,r.ok?n.setStatus({isError:!1,data:a}):(o=a&&a.message||r.status,n.setStatus({isError:!0,error:o})),n.setSubmitting(!1),console.log(a),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),children:[Object(ce.jsx)(Gn,{label:"dados do colaborador",validationSchema:lr,children:Object(ce.jsx)($i,{})}),Object(ce.jsx)(Gn,{label:"servi\xe7o SAP",validationSchema:dr,children:Object(ce.jsx)(fr,{})}),Object(ce.jsx)(Gn,{label:"ZSOD",children:"Justificativa ZSOD"}),Object(ce.jsx)(Gn,{label:"Fim",children:Object(ce.jsx)(_r,{})})]})})}var Or=["component","location"],yr=function(e){var t=e.component,n=e.location,i=Object(Ye.a)(e,Or),r=pe().accountInfo;return Object(ce.jsx)(p.b,Object(m.a)(Object(m.a)({},i),{},{render:function(e){return(null===r||void 0===r?void 0:r.isAuthenticated)?Object(ce.jsx)(t,Object(m.a)({},e)):Object(ce.jsx)(p.a,{to:{pathname:"/signin",state:{from:n}}})}}))},gr=Object(c.a)({palette:{primary:{main:"#31546d",light:"#5f809b",dark:"#002b42"},secondary:{main:"#5c6670",light:"#89949e",dark:"#323c45"}}});function wr(){return Object(ce.jsx)(l.a,{injectFirst:!0,children:Object(ce.jsx)(d.a,{theme:gr,children:Object(ce.jsx)(u.a,{children:Object(ce.jsx)(ue,{children:Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(p.d,{children:Object(ce.jsxs)($e,{children:[Object(ce.jsx)(p.b,{path:"/signin",exact:!0,component:Wn}),Object(ce.jsx)(yr,{path:"/",exact:!0,component:Ht}),Object(ce.jsx)(yr,{path:"/home",exact:!0,component:Ht}),Object(ce.jsx)(yr,{path:"/requests",exact:!0,component:An}),Object(ce.jsx)(p.b,{path:"/sap/request",exact:!0,component:vr}),Object(ce.jsx)(p.b,{path:"/as400/request",exact:!0,component:br}),Object(ce.jsx)(yr,{path:"/request/:id",exact:!0,component:mn}),Object(ce.jsx)(yr,{path:"/requests/ordered/:orderby",exact:!0,component:An})]})})})})})})})}s.a.render(Object(ce.jsxs)(a.a.StrictMode,{children:[Object(ce.jsx)(i.a,{}),Object(ce.jsx)(wr,{})]}),document.getElementById("root"))}},[[459,1,2]]]);
//# sourceMappingURL=main.06f678f7.chunk.js.map